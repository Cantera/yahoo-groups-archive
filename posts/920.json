{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":228974497,"authorName":"Martin Skov Skj√∏th-Rasmussen","from":"=?iso-8859-1?q?Martin_Skov_Skj=F8th-Rasmussen?= &lt;msr@...&gt;","profile":"msrasmus","replyTo":"LIST","senderId":"lrLEmmmFH8rJhnY-qEKa3JTHSjFV3JW6ScCRRgSvL0CVBy4_Xna7iYOfh3u_wK2bkrB6OKetpNijknfaV16USpniss-k7iEPHDt-qRxa_o702biicW-fwHOMQAcGMb42OOiz06ou","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: RAM problem using mixture equilibrate command","postDate":"1120834391","msgId":920,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGRhbTQwbit2ZTJjQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDRmZTIxNTZmZDc3NDFlNzJhZmVkNDE3ZmQyM2UxYTZhQGNhbHRlY2guZWR1Pg=="},"prevInTopic":919,"nextInTopic":0,"prevInTime":919,"nextInTime":921,"topicId":906,"numMessagesInTopic":5,"msgSnippet":"Dear Dave I have a feeling the problem is not isolate to Matlab, when I run the demo script: adiabatic.py, I observe a similar trend using python. The","rawEmail":"Return-Path: &lt;msr@...&gt;\r\nX-Sender: msr@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 66123 invoked from network); 8 Jul 2005 14:53:35 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m6.grp.scd.yahoo.com with QMQP; 8 Jul 2005 14:53:35 -0000\r\nReceived: from unknown (HELO n15a.bulk.scd.yahoo.com) (66.94.237.32)\n  by mta6.grp.scd.yahoo.com with SMTP; 8 Jul 2005 14:53:34 -0000\r\nComment: DomainKeys? See http://antispam.yahoo.com/domainkeys\r\nReceived: from [66.218.69.1] by n15.bulk.scd.yahoo.com with NNFMP; 08 Jul 2005 14:53:12 -0000\r\nReceived: from [66.218.66.88] by mailer1.bulk.scd.yahoo.com with NNFMP; 08 Jul 2005 14:53:12 -0000\r\nDate: Fri, 08 Jul 2005 14:53:11 -0000\r\nTo: cantera@yahoogroups.com\r\nMessage-ID: &lt;dam40n+ve2c@...&gt;\r\nIn-Reply-To: &lt;4fe2156fd7741e72afed417fd23e1a6a@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 4578\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: =?iso-8859-1?q?Martin_Skov_Skj=F8th-Rasmussen?= &lt;msr@...&gt;\r\nSubject: Re: RAM problem using mixture equilibrate command\r\nX-Yahoo-Group-Post: member; u=228974497; y=qfuIrhrykQdV01AK2bogmgDcOk2jnZ1f7EF4TVaZ32U53tU\r\nX-Yahoo-Profile: msrasmus\r\n\r\nDear Dave \n\nI have a feeling the problem is not isolate to Matlab, when I run the \ndemo script: adiabatic.py, I observe a similar trend using python. \n\nThe adiabatic.py script ends up using more than 400MB memory. \nHowever, if I rewrite the script to only involve a gas phase and now \nrun the simulation using gas.equilibrate(&#39;HP&#39;, solver = 0), I don&#39;t \nend up with the huge memory usage, while a change to gas.equilibrate\n(&#39;HP&#39;, solver = 1) does.\n\nIt appears that this memory eating routine is located within \nthe &#39;MultiPhaseEquil&#39; solver... at least that&#39;s what I have noticed.\n\nBest regards,\nMartin\n\n--- In cantera@yahoogroups.com, David Goodwin &lt;dgoodwin@c...&gt; wrote:\n&gt; Jeff,\n&gt; \n&gt; Can you send me your m-file, so I can reproduce the problem?\n&gt; \n&gt; Dave\n&gt; \n&gt; On Jul 6, 2005, at 5:52 PM, Jeff Miller wrote:\n&gt; \n&gt; &gt; Dr. Goodwin,\n&gt; &gt; I am having a similar problem with the ram in Matlab using\n&gt; &gt; equilibrate.  As I have discussed before, I am using several \nnested\n&gt; &gt; loops to calculate the equilibrium molar mass of a gas mixture, \nthen\n&gt; &gt; the time it takes to reach this molar mass, and then store the \ndata\n&gt; &gt; and start the calculation over at a new initial temperature.  \nAfter\n&gt; &gt; about 5 temperature increments, equilibrate returns the error:\n&gt; &gt;\n&gt; &gt; ??? Unexpected Standard exception from MEX file.\n&gt; &gt; What() is:bad allocation\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Error in ==&gt; @ThermoPhase&#92;private&#92;thermo_set at 13\n&gt; &gt;   i = ctmethods(20, n,-job, a, b, c, d, e);\n&gt; &gt;\n&gt; &gt; Error in ==&gt; ThermoPhase.equilibrate at 33\n&gt; &gt;   iok = thermo_set(a.tp_id, 50, 101, solver, rtol, maxsteps,\n&gt; &gt; loglevel);\n&gt; &gt;\n&gt; &gt; Error in ==&gt; reactor1_equilibrium_HP at 44\n&gt; &gt;    equilibrate(gas,&#39;HP&#39;,1,1.0e-8,1000);\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; I am not quite sure what this means, but I then have to exit \nMatlab\n&gt; &gt; and reopen it to avoid the Matlab memory error message followed \nby a\n&gt; &gt; request to send my error report to the Mathworks support team.\n&gt; &gt; I have tried to use the cleanup command, but I can&#39;t use the clear\n&gt; &gt; all command without losing the data I want to store, or resetting\n&gt; &gt; the loop variables.  I have tried using cleanup and individually\n&gt; &gt; clearing all of the variables except for the loop variables and \nthe\n&gt; &gt; one storing my data, but it does not work.  Do you have any\n&gt; &gt; suggestions?  Would it be possible in future Cantera releases to\n&gt; &gt; modify the cleanup command so that the user can choose which C++\n&gt; &gt; Cantera objects to delete?\n&gt; &gt; Thank you very much for any advise you can offer.\n&gt; &gt; Jeff Miller\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; --- In cantera@yahoogroups.com, David Goodwin &lt;dgoodwin@c...&gt; \nwrote:\n&gt; &gt;&gt; Perhaps this is a MATLAB problem. In MATLAB, there is no way that\n&gt; &gt; I can\n&gt; &gt;&gt; find to delete the C++ Cantera object when the MATLAB &#39;shadow&#39;\n&gt; &gt; object\n&gt; &gt;&gt; is deleted (cleared).  So if you create lots of Cantera objects \nin\n&gt; &gt; the\n&gt; &gt;&gt; MATLAB workspace, it can consume memory that is not released even\n&gt; &gt; if\n&gt; &gt;&gt; you type &#39;clear all&#39;.  I have provided a function &#39;cleanup&#39; that\n&gt; &gt;&gt; deletes ALL Cantera objects.  If you use &#39;cleanup&#39;, you must also\n&gt; &gt; clear\n&gt; &gt;&gt; all Cantera objects from the MATLAB workspace, since they cannot\n&gt; &gt; be\n&gt; &gt;&gt; used once the underlying C++ objects are deleted.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Or it could be a problem due to using MATLAB 6.5, since the\n&gt; &gt; Windows\n&gt; &gt;&gt; Cantera MATLAB toolbox was compiled with MATLAB 7.\n&gt; &gt;&gt;\n&gt; &gt;&gt; If MATLAB gives you problems, you could do your calculation in\n&gt; &gt; Python,\n&gt; &gt;&gt; which has better capabilities for memory management.\n&gt; &gt;&gt;\n&gt; &gt;&gt; Dave\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Jun 28, 2005, at 9:19 AM, chrtom1979 wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt;&gt; Dear Mr Goodwin,\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; I finally manage to use the mixture equilibrate command (I work\n&gt; &gt; with\n&gt; &gt;&gt;&gt; Matlab6.5 in Windows environment) using Cantera1.6. I work with \na\n&gt; &gt;&gt;&gt; powerful pc desktop (3.4GHz-Cpu, 1024MB-RAM), but I have some\n&gt; &gt; problem,\n&gt; &gt;&gt;&gt; since the model fill up all the memory...\n&gt; &gt;&gt;&gt; I work with an ideal gas phase and a solid carbon phase, doing\n&gt; &gt; some\n&gt; &gt;&gt;&gt; iteration for several values of temperature and pressure.\n&gt; &gt;&gt;&gt; I have seen in your Python demo (adiabatic.py) the following\n&gt; &gt; syntax:\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; mix.equilibrate(&#39;HP&#39;, maxsteps = 1000,err = 1.0e-6, maxiter =\n&gt; &gt; 200,\n&gt; &gt;&gt;&gt; loglevel=0)\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; where you fix the max number of iterations. There is a similar\n&gt; &gt; way to\n&gt; &gt;&gt;&gt; do this in Matlab. I am not able to find it.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Thank you in advance.\n&gt; &gt;&gt;&gt; Your sincerly.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Christian\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Yahoo! Groups Links\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n\n\n\n"}}