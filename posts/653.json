{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":204994144,"authorName":"rahunt_xyz","from":"&quot;rahunt_xyz&quot; &lt;rahunt@...&gt;","profile":"rahunt_xyz","replyTo":"LIST","senderId":"loEF7OARKD3303eK2bPeQh2Z9giEneKrXZgmhtfubdyhwZoS5JFtbFiazp5YAD5eSs9mC5ELjDK6i1ViKEBVRK9DwzgoOPlTog","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Errors setting entropy and pressure in fluids","postDate":"1104875100","msgId":653,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGNyZjJvcyt2cXI5QGVHcm91cHMuY29tPg=="},"prevInTopic":0,"nextInTopic":654,"prevInTime":652,"nextInTime":654,"topicId":653,"numMessagesInTopic":4,"msgSnippet":"We are working on some MATLAB code that uses the tpx part of Cantera and are finding some trouble when trying to simultaneously set entropy and pressure for","rawEmail":"Return-Path: &lt;rahunt@...&gt;\r\nX-Sender: rahunt@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 17510 invoked from network); 4 Jan 2005 21:45:41 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m24.grp.scd.yahoo.com with QMQP; 4 Jan 2005 21:45:41 -0000\r\nReceived: from unknown (HELO n6a.bulk.scd.yahoo.com) (66.94.237.40)\n  by mta2.grp.scd.yahoo.com with SMTP; 4 Jan 2005 21:45:41 -0000\r\nReceived: from [66.218.66.59] by n6.bulk.scd.yahoo.com with NNFMP; 04 Jan 2005 21:45:18 -0000\r\nReceived: from [66.218.66.143] by mailer8.bulk.scd.yahoo.com with NNFMP; 04 Jan 2005 21:45:18 -0000\r\nDate: Tue, 04 Jan 2005 21:45:00 -0000\r\nTo: cantera@yahoogroups.com\r\nMessage-ID: &lt;crf2os+vqr9@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=ISO-8859-1\r\nContent-Length: 2613\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Remote-IP: 66.94.237.40\r\nFrom: &quot;rahunt_xyz&quot; &lt;rahunt@...&gt;\r\nSubject: Errors setting entropy and pressure in fluids\r\nX-Yahoo-Group-Post: member; u=204994144\r\nX-Yahoo-Profile: rahunt_xyz\r\n\r\n\nWe are working on some MATLAB code that uses the tpx part of Cantera\nand are finding some trouble when trying to simultaneously set entropy\nand pressure for pure fluids.  In particular, we are working with water.\n\nWe had previously used this part of Cantera without error with version\n1.5.4 from the windows installer (downloaded from SourceForge).  Now\nwe have built version 1.5.5 and also the latest version from CVS and\nare finding that we are getting some seemingly flaky results.  In\nparticular, set(W,&#39;P&#39;,ppp,&#39;S&#39;,sss) works under some circumstances, and\nfails under others.\n\nWe are including a sample MATLAB m file that should reliably\ndemonstrate the error. I&#39;m curious about whether anyone has had\nsimilar problems with this, either in Matlab or when using the Python\nor C.  I&#39;d also welcome any ideas for solutions.   I&#39;d be happy to\nsend along the liquidvapor.xml file we are using if that helps.\n\n(BTW One small thing we found with the last version of ext/tpx/Sub.cpp\nis that line 353 should test that i &gt;= 20 instead of 200, but this\ndoes not change the error given in the following code.)\n\nRebecca Hunt\n\nm code included below\n---------------------------- LiqVapErr.m------------------\n\nclose all\nclear all\n\n% Set up some Temperature and Pressure limits\n\nPmin = 100000;\nPmax = 260*100000;\nTmin = 320;\nTmax = 845;\n\n% Create the pure fluid object \n\nW = importPhase(&#39;liquidvapor.xml&#39;,&#39;water&#39;);\n\n% A simple TP set works...\n\nset(W,&#39;T&#39;,Tmin,&#39;P&#39;,Pmin);\n\nS1 = entropy_mass(W);\n\n% Increasing pressure at constant entropy works...\n\nset(W,&#39;P&#39;,Pmax,&#39;S&#39;,S1);\n\n% Another TP set...\n\nset(W,&#39;T&#39;,Tmax,&#39;P&#39;,Pmax);\n\nS3 = entropy_mass(W);\n\n% The following line of code fails as follows:\n%\n%************************************************\n%                Cantera Error!                  \n%************************************************\n%\n%\n%Procedure: tpx::Substance::update_sat\n%Error:   wrong root found for sat. liquid or vapor\n%\n%Error in ==&gt; @ThermoPhase&#92;private&#92;thermo_set at 5\n%  i = ctmethods(20,n,-job,a);\n%\n%Error in ==&gt; ThermoPhase.setState_SP at 15\n%thermo_set(a.tp_id,23,sp);\n%\n%Error in ==&gt; Solution.set at 166\n%    setState_SP(a,[sval,pval]);   \n%\n%Error in ==&gt; LiqVapError at 53\n%set(W,&#39;P&#39;,Pmin,&#39;S&#39;,S3);\n\nset(W,&#39;P&#39;,Pmin,&#39;S&#39;,S3);\n\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n\n% However, without clearing the variable space, one can re-set the state:\n\nset(W,&#39;T&#39;,300,&#39;P&#39;,101325);\n\n% And then re-try the failed command...\n\nset(W,&#39;P&#39;,Pmin,&#39;S&#39;,S3);\n\n% Which now works; the &#39;seed&#39; values for P-rho-T iteration were\n% different.\n------------------------------------------------------------------\n\n\n\n\n"}}