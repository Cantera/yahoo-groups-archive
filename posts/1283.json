{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":272211370,"authorName":"robikar","from":"&quot;robikar&quot; &lt;robikar@...&gt;","profile":"robikar","replyTo":"LIST","senderId":"YN2eaS5rxjPvObz6tyXG8FHXE-aWT9O9D5vrYdgU1VGN95RjfYTX-UpGyQasAv19rsLRHZsM3bcyaPDyBezWs8yC_Gw","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: species O2 not conserved in NO + O2 &lt;=&gt; N + O + O2 ?","postDate":"1152111806","msgId":1283,"canDelete":false,"contentTrasformed":false,"systemMessage":true,"headers":{"messageIdInHeader":"PGU4Z2tidStrM2VvQGVHcm91cHMuY29tPg==","inReplyToHeader":"PDNBQ0M3ODk3QTk0NjMxNDFCRTBEOTM4RkMzMURGRDE5MDFDNjdGRjdARVMyMlNOTE5ULnNybi5zYW5kaWEuZ292Pg=="},"prevInTopic":1277,"nextInTopic":0,"prevInTime":1282,"nextInTime":1284,"topicId":1277,"numMessagesInTopic":2,"msgSnippet":"Dear Harry, Many thanks for your reply. Our application is not constant pressure perfectly-stirred reactor. We took the standard Cantera case for a constant","rawEmail":"Return-Path: &lt;robikar@...&gt;\r\nReceived: (qmail 67929 invoked from network); 6 Jul 2006 05:31:54 -0000\r\nReceived: from unknown (66.218.67.33)\n  by m32.grp.scd.yahoo.com with QMQP; 6 Jul 2006 05:31:54 -0000\r\nReceived: from unknown (HELO n6c.bullet.sc5.yahoo.com) (66.163.187.197)\n  by mta7.grp.scd.yahoo.com with SMTP; 6 Jul 2006 05:31:54 -0000\r\nReceived: from [66.163.187.121] by n6.bullet.sc5.yahoo.com with NNFMP; 06 Jul 2006 05:31:21 -0000\r\nReceived: from [66.218.69.3] by t2.bullet.sc5.yahoo.com with NNFMP; 06 Jul 2006 05:31:21 -0000\r\nReceived: from [66.218.66.91] by t3.bullet.scd.yahoo.com with NNFMP; 06 Jul 2006 05:31:21 -0000\r\nX-Sender: robikar@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 8844 invoked from network); 5 Jul 2006 15:03:37 -0000\r\nReceived: from unknown (66.218.67.34)\n  by m24.grp.scd.yahoo.com with QMQP; 5 Jul 2006 15:03:36 -0000\r\nReceived: from unknown (HELO n18a.bullet.scd.yahoo.com) (66.94.237.47)\n  by mta8.grp.scd.yahoo.com with SMTP; 5 Jul 2006 15:03:34 -0000\r\nReceived: from [66.218.66.58] by n18.bullet.scd.yahoo.com with NNFMP; 05 Jul 2006 15:03:27 -0000\r\nReceived: from [66.218.66.68] by t7.bullet.scd.yahoo.com with NNFMP; 05 Jul 2006 15:03:27 -0000\r\nDate: Wed, 05 Jul 2006 15:03:26 -0000\r\nTo: cantera@yahoogroups.com\r\nMessage-ID: &lt;e8gkbu+k3eo@...&gt;\r\nIn-Reply-To: &lt;3ACC7897A9463141BE0D938FC31DFD1901C67FF7@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-system\r\nX-eGroups-Msg-Info: 1:6:0:0\r\nFrom: &quot;robikar&quot; &lt;robikar@...&gt;\r\nSubject: Re: species O2 not conserved in NO + O2 &lt;=&gt; N + O + O2 ?\r\nX-Yahoo-Group-Post: member; u=272211370; y=d_Gd6b60jav8OOd2y2AvtcjObAFDYfPxsw0wbwsw35z02Q\r\nX-Yahoo-Profile: robikar\r\nX-eGroups-Approved-By: dggoodwin &lt;dgoodwin@...&gt; via web; 06 Jul 2006 05:31:20 -0000\r\n\r\nDear Harry,\n\nMany thanks for your reply. \n\nOur application is not constant =\r\npressure perfectly-stirred reactor. We\ntook the standard Cantera case for a=\r\n constant pressure\nperfectly-stirred reactor and fixed the wall position to=\r\n obtain purely\n0D situation.\n\nWe have our own simple chemistry code and als=\r\no observe\nnon-conservation of O2 in such a reaction step when we use a\nsemi=\r\n-implicit scheme. We suspect that this is due to strong backward\nreaction r=\r\nate. We also wonder why Cantera has such non-conservation.\nHowever, it is p=\r\nossible that we are doing something wrong with Cantera.\n\nBelow is the modif=\r\nied Cantera cpp tutorial code which we ran for 0D\nsituation. air2.cti conta=\r\nins a single step NO + O2 &lt;=3D&gt; N + O + O2.\n\nint kinetics1(int np, void* p)=\r\n {\n\n    IdealGasMix gas(&quot;air2.cti&quot;, &quot;&quot;);\n\n    gas.setState_TPX(2400., OneAt=\r\nm/70., &quot;O2:0.25 O:0. N2:0.25 N:0.\nNO:0.25 &quot;);\n    int nsp =3D gas.nSpecies(=\r\n);\n\n    // create a reactor\n    Reactor r;\n\n    r.insert(gas);\n\n    double =\r\ntm;\n    double dt =3D 1.e-01;    // interval at which output is written\n   =\r\n int nsteps =3D 100;     // number of intervals\n\n    Array2D soln(nsp+4, 1)=\r\n;\n    saveSoln(0, 0.0, gas, soln);\n\n    r.setEnergy(0);\n\n    // main loop\n =\r\n   clock_t t0 =3D clock();        // save start time\n    for (int i =3D 1; =\r\ni &lt;=3D nsteps; i++) {\n        tm =3D i*dt;\n        r.advance(tm);\n\t//r.step=\r\n(tm);\n        cout &lt;&lt; &quot;time =3D &quot; &lt;&lt; tm &lt;&lt; &quot; s&quot; &lt;&lt; endl;\n        saveSoln(t=\r\nm, gas, soln);\n    }\n    clock_t t1 =3D clock();        // save end time\n\n =\r\n   // make a Tecplot data file and an Excel spreadsheet\n    string plotTitl=\r\ne =3D &quot;kinetics example 1: constant-pressure ignition&quot;;\n    plotSoln(&quot;kin1.=\r\ndat&quot;, &quot;TEC&quot;, plotTitle, gas, soln);\n    plotSoln(&quot;kin1.csv&quot;, &quot;XL&quot;, plotTitl=\r\ne, gas, soln); \n}\n\n--- In cantera@yahoogroups.com, &quot;Moffat, Harry K&quot; &lt;hkmof=\r\nfa@...&gt; wrote:\n&gt;\n&gt; Hi Robert,\n&gt; \n&gt;    I&#39;m not quite sure about the boundary=\r\n conditions in your application.\n&gt; They are important for mass conservation=\r\n. It appears that your\n&gt; application is a constant pressure perfectly-stirr=\r\ned reactor. In this\n&gt; case, since your one reaction changes the number of m=\r\noles of gas, the\n&gt; reactor is actually changing volume as a function of tim=\r\ne. The net\n&gt; concentration of O2 therefore changes as a function of time, t=\r\nhough the\n&gt; total O2 in the reactor is constant wrt time. I&#39;ve got a code b=\r\nase on\n&gt; Cantera where I&#39;ve explicitly checked this conservation principle =\r\nin\n&gt; another context.\n&gt; \n&gt; Hope this explains your observations.\n&gt; \n&gt; Harry=\r\n\n&gt; \n&gt; \n&gt; Harry Moffat                                             (w) (505)=\r\n\n&gt; 844-6912\n&gt; Multiphase Transport Processes Division    (f)   (505) 844-92=\r\n97\n&gt; Sandia National Laboratories\n&gt; hkmoffa@...\n&gt; P. O. Box 5800-0834\n&gt; Alb=\r\nuquerque, NM 87185-0834\n&gt; \n&gt; -----Original Message-----\n&gt; From: cantera@yah=\r\noogroups.com [mailto:cantera@yahoogroups.com] On Behalf\n&gt; Of robikar\n&gt; Sent=\r\n: Monday, June 26, 2006 2:24 PM\n&gt; To: cantera@yahoogroups.com\n&gt; Subject: [c=\r\nantera] species O2 not concerved in NO + O2 &lt;=3D&gt; N + O + O2 ?\n&gt; \n&gt; Dear Ca=\r\nntera Users,\n&gt; \n&gt; We are testing the code and use just one reaction step:\n&gt;=\r\n \n&gt; reaction( &quot;NO + O2  &lt;=3D&gt; N + O + O2&quot;,    [7.95000E+20, -2.0, 251.0*300=\r\n])\n&gt; \n&gt; Solving with\n&gt; \n&gt; gas.setState_TPX(2400., OneAtm, &quot;O2:0.2 O:0.2 N2:=\r\n0.2 N:0.2 NO:0.2&quot;);\n&gt; \n&gt; and advancing in time\n&gt; \n&gt; for (int i =3D 1; i &lt;=\r\n=3D nsteps; i++) {\n&gt;         tm =3D i*dt;\n&gt;         r.advance(tm);\n&gt;       =\r\n  saveSoln(tm, gas, soln);\n&gt; }\n&gt; \n&gt; gives us that species O2 not conserved.=\r\n\n&gt; \n&gt; Where the problem comes from ? \n&gt; \n&gt; Are you forcing some mass conser=\r\nvation in the iteration process and this\n&gt; gives unphysical solutions ?\n&gt; \n=\r\n&gt; Thank you, Robert.\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; ------------------------ Yah=\r\noo! Groups Sponsor --------------------~--&gt;\n&gt; Something is new at Yahoo! Gr=\r\noups.  Check out the enhanced email design.\n&gt; http://us.click.yahoo.com/SIS=\r\nQkA/gOaOAA/yQLSAA/UGYolB/TM\n&gt; ---------------------------------------------=\r\n-----------------------~-&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt;\n\n\n\n\n\n\n\n"}}