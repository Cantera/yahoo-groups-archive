{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":32942367,"authorName":"Moffat, Harry K","from":"&quot;Moffat, Harry K&quot; &lt;hkmoffa@...&gt;","profile":"hkmoffat","replyTo":"LIST","senderId":"o5apQNpjdd4RVLH86vz9olHc3PS3OVkkSCdZPhOyL2TWe4BYzBW0MPHCMiXunlpVDSgmRzdKecL3BU9UbG16uT4oG-I7ku4UDJP4CMk","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [cantera] memory leak","postDate":"1104853633","msgId":652,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNBQ0M3ODk3QTk0NjMxNDFCRTBEOTM4RkMzMURGRDE5MTU1MkU0QEVTMjJTTkxOVC5zcm4uc2FuZGlhLmdvdj4="},"prevInTopic":646,"nextInTopic":655,"prevInTime":651,"nextInTime":653,"topicId":646,"numMessagesInTopic":5,"msgSnippet":"Hi, At one point, I took a look at memory leak issues within Cantera using the program valgrind on linux. I either didn t find any or I eliminated them, at","rawEmail":"Return-Path: &lt;hkmoffa@...&gt;\r\nX-Sender: hkmoffa@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 87153 invoked from network); 4 Jan 2005 15:47:58 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m7.grp.scd.yahoo.com with QMQP; 4 Jan 2005 15:47:58 -0000\r\nReceived: from unknown (HELO MM01SNLNTO.son.sandia.gov) (132.175.109.20)\n  by mta2.grp.scd.yahoo.com with SMTP; 4 Jan 2005 15:47:57 -0000\r\nReceived: from 132.175.109.4 by MM01SNLNTO.son.sandia.gov with ESMTP (\n Tumbleweed MMS SMTP Relay 01 (MMS v5.6.3)); Tue, 04 Jan 2005 08:47:15\n -0700\r\nX-Server-Uuid: 2C1074A8-2B28-4DE3-9F7D-FF40AE090BA2\r\nReceived: from ES22SNLNT.srn.sandia.gov (ec03snlnt.sandia.gov\n [134.253.164.158] (may be forged)) by mailgate2.sandia.gov (\n 8.12.11/8.12.11) with ESMTP id j04FlDUJ024567 for\n &lt;cantera@yahoogroups.com&gt;; Tue, 4 Jan 2005 08:47:13 -0700 (MST)\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Tue, 4 Jan 2005 08:47:13 -0700\r\nMessage-ID: &lt;3ACC7897A9463141BE0D938FC31DFD191552E4@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [cantera] memory leak\r\nThread-Index: AcTxmuw+rX0l0z/qQLmDjP2fKYFVDgA2H9HA\r\nTo: cantera@yahoogroups.com\r\nX-PMX-Version: 4.7.0.111621, Antispam-Engine: 2.0.1.0, Antispam-Data:\n 2005.1.3.31\r\nX-WSS-ID: 6DC4650917W924540-01-01\r\nContent-Type: text/plain;\n charset=us-ascii\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Remote-IP: 132.175.109.20\r\nFrom: &quot;Moffat, Harry K&quot; &lt;hkmoffa@...&gt;\r\nSubject: RE: [cantera] memory leak\r\nX-Yahoo-Group-Post: member; u=32942367\r\nX-Yahoo-Profile: hkmoffat\r\n\r\nHi,\n \nAt one point, I took a look at memory leak issues within Cantera usin=\r\ng\nthe program valgrind on linux. I either didn&#39;t find any or I eliminated\nt=\r\nhem, at least those that couldn&#39;t be traced to C++ stl operations. I\ndidn&#39;t=\r\n check the reactor objects, however, There were a couple of\nfactory objects=\r\n that left memory undeleted at the end of a run. I\ncreated the program appd=\r\nelete() in misc.cpp that eliminated those.\n\nBest wishes,\nHarry\n\n-----Origin=\r\nal Message-----\nFrom: martin olausson [mailto:m.olausson@...] \nSent: =\r\nMonday, January 03, 2005 4:55 AM\nTo: cantera@yahoogroups.com\nSubject: [cant=\r\nera] memory leak\n\nHi,\n\nAs I mentioned in a previous mail I&#39;m trying to use =\r\nCantera in fluent.\nI now have a minor memory leak problem etc. I&#39;m using Ca=\r\nntera to\ncalculate an effective reaction rate by integrating the concentrat=\r\nions\nin each cell to the next time step defined in fluent, and then compari=\r\nng\nthe concentrations before and after. This way the fluent-simulations are=\r\n\nvery stable. It&#39;s a bit time consuming but that is not the problem right\nn=\r\now...\nI noticed that if I define new Cantera objects in each cell, Reactor,=\r\n\nWall, Environment, ReactorNet, the memory is consumed even if I delete\nthe=\r\nm after they are used. I then tried to reuse them by updating the\ncompositi=\r\non with &quot;setThermoMgr&quot;. If &quot;r&quot; is a static Reactor used in each\ncell in flu=\r\nent, I&#39;m updating the composition defined in &quot;gas&quot;\nlike this:\n\nr-&gt;setThermo=\r\nMgr(*gas);\n\nThis works fine for a while then, the simulations in Cantera ta=\r\nkes\nlonger and longer time. This is noticed after using the same objects\nab=\r\nout 10 000 times.\nSo if I&#39;m defining new objects once in a while, every sec=\r\nond iteration\nin fluent, it works fine for a week or so until the memory is=\r\n consumed.\nIf I restart fluent it works fine for another week...\n\nDoes anyo=\r\nne know what&#39;s the cause of any of these two problems, the\nmemory leak or t=\r\nhat Cantera simulations takes longer and longer time\nwhen reusing objects?\n=\r\n\nThe cpp-program that is called by the UDF in fluent is attached to the\nmai=\r\nl. The &quot;CanteraInitFkn&quot; is called in the beginning of each iteration\nin flu=\r\nent, and the &quot;getCanteraReactionData&quot; is called in each cell in\nthe grid.\n\n=\r\n\nRegards,\nMartin Olausson\n\n\n \nYahoo! Groups Links\n\n\n\n \n\n\n"}}