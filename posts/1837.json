{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"Dave Goodwin","from":"Dave Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"OyRTbTZxcIlwS7bn_YdX4XdUTiMhG-kA8nyD7uPkOf3kUNx1zeihOIwUrRtkU5s0jMgy9bks_SZ5P4fNCuZ1fCRdjQe6nTFv8CA","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [cantera] Re: copy constructor for IdealGasMix is broken?","postDate":"1202960127","msgId":1837,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDgxOUU3MjEzLTkzNDEtNEZEOS1COTdBLTFFNTNBMUQ4MzAwRUBjYWx0ZWNoLmVkdT4=","inReplyToHeader":"PDNBQ0M3ODk3QTk0NjMxNDFCRTBEOTM4RkMzMURGRDE5MDNGOUI0OEZARVMyMlNOTE5ULnNybi5zYW5kaWEuZ292Pg==","referencesHeader":"PDA2RThCOTM0LUVGQUQtNDYxOC05RjRDLUU2NzUzNURDQzBDQ0BjYWx0ZWNoLmVkdT4gPGZvdjY0OCsyZ3YwQGVHcm91cHMuY29tPiA8M0FDQzc4OTdBOTQ2MzE0MUJFMEQ5MzhGQzMxREZEMTkwM0Y5QjQ4RkBFUzIyU05MTlQuc3JuLnNhbmRpYS5nb3Y+"},"prevInTopic":1836,"nextInTopic":1838,"prevInTime":1836,"nextInTime":1838,"topicId":1831,"numMessagesInTopic":10,"msgSnippet":"I think we also need to keep in mind that we are not just writing for C++ power users.  Essentially all useful eqs of state should be accessible from the","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nX-Received: (qmail 11554 invoked from network); 14 Feb 2008 03:35:25 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m35.grp.scd.yahoo.com with QMQP; 14 Feb 2008 03:35:25 -0000\r\nX-Received: from unknown (HELO outgoing-mail.its.caltech.edu) (131.215.239.19)\n  by mta16.grp.scd.yahoo.com with SMTP; 14 Feb 2008 03:35:25 -0000\r\nX-Received: from fire-dog.its.caltech.edu (fire-dog [192.168.1.4])\n\tby earth-ox-postvirus (Postfix) with ESMTP id A8A8E1BD54\n\tfor &lt;cantera@yahoogroups.com&gt;; Wed, 13 Feb 2008 19:35:22 -0800 (PST)\r\nX-Received: from [10.0.1.2] (24-205-72-20.dhcp.psdn.ca.charter.com [24.205.72.20])\n\t(Authenticated sender: dgg)\n\tby fire-ox.its.caltech.edu (Postfix) with ESMTP id 8CC5513E6C\n\tfor &lt;cantera@yahoogroups.com&gt;; Wed, 13 Feb 2008 19:35:19 -0800 (PST)\r\nMime-Version: 1.0 (Apple Message framework v753)\r\nIn-Reply-To: &lt;3ACC7897A9463141BE0D938FC31DFD1903F9B48F@...&gt;\r\nReferences: &lt;06E8B934-EFAD-4618-9F4C-E67535DCC0CC@...&gt; &lt;fov648+2gv0@...&gt; &lt;3ACC7897A9463141BE0D938FC31DFD1903F9B48F@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;819E7213-9341-4FD9-B97A-1E53A1D8300E@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Wed, 13 Feb 2008 19:35:27 -0800\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.753)\r\nX-Spam-Scanned: at Caltech-ITS on fire-dog by amavisd-2.4.5\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Dave Goodwin &lt;dgoodwin@...&gt;\r\nSubject: Re: [cantera] Re: copy constructor for IdealGasMix is broken?\r\nX-Yahoo-Group-Post: member; u=44728387; y=H7PyjMPS0lug0K7KjYO069ZpdzqJBm3to4fZcfpFC37R\r\nX-Yahoo-Profile: dggoodwin\r\n\r\nI think we also need to keep in mind that we are not just writing for  \nC++ &quot;power users.&quot;  Essentially all useful eqs of state should be  \naccessible from the other interfaces too, and so shouldn&#39;t rely  \noverly on special features (e.g. operator overloading) in C++.  Or at  \nthe very least, these things should be kept out of the kernel, and  \nonly used in the C++ interface files (Cantera/cxx/*).\n\nDave\n\n\nOn Feb 13, 2008, at 2:15 PM, Moffat, Harry K wrote:\n\n&gt; Hi,\n&gt;   copy constructors and assignment operators are implemented for the\n&gt; thermo routines, but not for the kinetics operator. That&#39;s why the\n&gt; thermo part of the copy worked, but not the kinetics part.\n&gt;\n&gt; I agree with Dave that there&#39;s a definite cost and potential  \n&gt; pitfalls to\n&gt; developing and maintaining them. There should be a definite reason for\n&gt; their implementation.\n&gt;\n&gt; I had in the back of my mind, at one point, the case of solving\n&gt; equilibrium problems with miscibility gaps, where the thermo phase  \n&gt; would\n&gt; need to be split into two (e.g., III-V compound semiconductors which\n&gt; obey the regular solution model) for some parameter regimes. I haven&#39;t\n&gt; gotten there yet, though, in terms of automagically splitting the  \n&gt; phase\n&gt; where appropriate.\n&gt;\n&gt; There&#39;s a diamondSurf_dupl test example that exercises the thermo\n&gt; assignment operator.\n&gt;\n&gt; Best wishes,\n&gt; Harry Moffat\n&gt;\n&gt; Harry Moffat                                             (w) (505)\n&gt; 844-6912\n&gt; Nanoscale and Reactive Processes            (f)   (505) 844-8251\n&gt; Sandia National Laboratories\n&gt; hkmoffa@...\n&gt; P. O. Box 5800-0836\n&gt; Albuquerque, NM 87185-0836\n&gt;\n&gt; -----Original Message-----\n&gt; From: cantera@yahoogroups.com [mailto:cantera@yahoogroups.com] On  \n&gt; Behalf\n&gt; Of yarmond\n&gt; Sent: Wednesday, February 13, 2008 9:33 AM\n&gt; To: cantera@yahoogroups.com\n&gt; Subject: [cantera] Re: copy constructor for IdealGasMix is broken?\n&gt;\n&gt; Dave,\n&gt;\n&gt; Thanks for the explanation. Is there any chance that the copy\n&gt; constructor will be implemented? I was hoping to be able to use  \n&gt; them in\n&gt; some of the standard container classes, e.g. std::vector or std::list,\n&gt; but I don&#39;t think this is possible without a functional copy\n&gt; constructor.\n&gt;\n&gt; Also, it would be nice to repeatedly read the input file from disk. Is\n&gt; there a way to at least avoid this? I wasn&#39;t able to follow the\n&gt; documentation well enough to know if this is possible.\n&gt;\n&gt; Thanks,\n&gt; Ray\n&gt;\n&gt; --- In cantera@yahoogroups.com, Dave Goodwin &lt;dgoodwin@...&gt; wrote:\n&gt;&gt;\n&gt;&gt; The reason for this is that Cantera builds complete objects for  \n&gt;&gt; use in\n&gt;\n&gt;&gt; C++ code from CTI or XML input files.  This maintains consistency  \n&gt;&gt; with\n&gt;\n&gt;&gt; objects created from Python, Matlab, or Fortran.\n&gt;&gt;\n&gt;&gt; The classes in the Cantera kernel (those in &quot;Cantera/src/*&quot; should\n&gt;&gt; never be instantiated from copy constructors, but always from an  \n&gt;&gt; input\n&gt;\n&gt;&gt; file or from a factory method designed for this purpose.  At the C++\n&gt;&gt; interface level (those files in Cantera/cxx/include/cantera, many of\n&gt;&gt; the classes derive from multiple kernel classes, to provide (for\n&gt;&gt; convenience only)  a single object that represents the thermodynamic\n&gt;&gt; properties (equation of state) and the kinetics, at least for\n&gt;&gt; homogeneous kinetics. I am in the process of changing the namespace\n&gt;&gt; these classes live in to &quot;Cantera_CXX&quot; to help avoid these  \n&gt;&gt; confusions.\n&gt;&gt;\n&gt;&gt; But still, I advise against using copy constructors or assignment\n&gt;&gt; operators... These often cause more problems than they solve!!\n&gt;&gt;\n&gt;&gt; Dave\n&gt;&gt;\n&gt;&gt; The CVS repository will soon reflect the namespace changes but does\n&gt;&gt; not yet...\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Feb 13, 2008, at 5:32 AM, avmokhov wrote:\n&gt;&gt;\n&gt;&gt;&gt; Hi,\n&gt;&gt;&gt; You can not use a copy constructor for an ideal gas mixture because\n&gt;&gt;&gt; the assignment operator is (still) not implemented. If you put try -\n&gt;\n&gt;&gt;&gt; catch block you will catch a Cantera exception.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Best regards, Anatoli\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; --- In cantera@yahoogroups.com, &quot;yarmond&quot; &lt;yarmond@&gt; wrote:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; I am having some issues when trying to copy IdealGasMix objects.\n&gt;&gt;&gt; From\n&gt;&gt;&gt;&gt; looking at the header files, it seems that the copy constructor is\n&gt;&gt;&gt;&gt; intended to be usable, but I have been getting some unexpected\n&gt;&gt;&gt; results\n&gt;&gt;&gt;&gt; from the following code example:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Cantera::IdealGasMix gas1(&quot;gri30.xml&quot;); int n=gas1.nSpecies();\n&gt;&gt;&gt;&gt; gas1.setState_TPX(600,Cantera::OneAtm,&quot;O2:1.0, CH4:0.5, N2:3.76&quot;);\n&gt;&gt;&gt;&gt; vector&lt;double&gt; wdot1(n), wdot2(n);\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Cantera::IdealGasMix gas2(gas1);\n&gt;&gt;&gt;&gt; gas2.setState_TPX(800,Cantera::OneAtm,&quot;AR:1.0&quot;);\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; gas1.getNetProductionRates(&wdot1[0]);\n&gt;&gt;&gt;&gt; gas2.getNetProductionRates(&wdot2[0]);\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; std::cout &lt;&lt; gas1.cv_mass() &lt;&lt; &quot;, &quot; &lt;&lt; gas2.cv_mass() &lt;&lt; std::endl;\n&gt;\n&gt;&gt;&gt;&gt; for (int i=0; i&lt;n; i++) {\n&gt;&gt;&gt;&gt; \tstd::cout &lt;&lt; wdot1[i] &lt;&lt; &quot;, &quot; &lt;&lt; wdot2[i] &lt;&lt; std::endl; }\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; gas1.setState_TPX(600,Cantera::OneAtm,&quot;H2:1.0, O2:0.5, N2:3.76&quot;);\n&gt;&gt;&gt;&gt; gas1.getNetProductionRates(&wdot1[0]);\n&gt;&gt;&gt;&gt; gas2.getNetProductionRates(&wdot2[0]);\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; std::cout &lt;&lt; gas1.cv_mass() &lt;&lt; &quot;, &quot; &lt;&lt; gas2.cv_mass() &lt;&lt; std::endl;\n&gt;\n&gt;&gt;&gt;&gt; for (int i=0; i&lt;n; i++) {\n&gt;&gt;&gt;&gt; \tstd::cout &lt;&lt; wdot1[i] &lt;&lt; &quot;, &quot; &lt;&lt; wdot2[i] &lt;&lt; std::endl; }\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; The measurement of cv seems to work for both mixtures, but when the\n&gt;\n&gt;&gt;&gt;&gt; production rates are requested for gas2, it returns the same values\n&gt;&gt;&gt; as\n&gt;&gt;&gt;&gt; for gas1, even when the state of gas1 is later changed.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n\n\n"}}