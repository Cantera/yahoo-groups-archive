{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":32942367,"authorName":"Moffat, Harry K","from":"&quot;Moffat, Harry K&quot; &lt;hkmoffa@...&gt;","profile":"hkmoffat","replyTo":"LIST","senderId":"uz7gnTDXtLHLhK_Ia2N6HqSSyJgmpQYNzIUQ0vDpEZeAwFTBe5v85Otu__Pjaxy8AMSlsmRSmCa_q4wZ-e4xGtfddja-QBFsgLaF9ic","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [cantera] Re: Fortran - problem with meanmolarmass()","postDate":"1159826636","msgId":1326,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNBQ0M3ODk3QTk0NjMxNDFCRTBEOTM4RkMzMURGRDE5MDIxQUNFQUZARVMyMlNOTE5ULnNybi5zYW5kaWEuZ292Pg=="},"prevInTopic":1322,"nextInTopic":1327,"prevInTime":1325,"nextInTime":1327,"topicId":1314,"numMessagesInTopic":7,"msgSnippet":"Hi Dan, I have fixed one aspect of this problem within the CVS code. Previously, after initialization, if the mole or mass fractions were not set in the CTI or","rawEmail":"Return-Path: &lt;hkmoffa@...&gt;\r\nX-Sender: hkmoffa@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 61395 invoked from network); 2 Oct 2006 22:05:48 -0000\r\nReceived: from unknown (66.218.66.216)\n  by m33.grp.scd.yahoo.com with QMQP; 2 Oct 2006 22:05:47 -0000\r\nReceived: from unknown (HELO sentry.sandia.gov) (132.175.109.20)\n  by mta1.grp.scd.yahoo.com with SMTP; 2 Oct 2006 22:05:46 -0000\r\nReceived: from 132.175.109.1 by sentry.sandia.gov with ESMTP (Tumbleweed\n MMS SMTP Relay 01 (Email Firewall v6.2.2)); Mon, 02 Oct 2006 16:04:52\n -0600\r\nX-Server-Uuid: 4A6F66F3-3BA9-40FF-AC33-461A8279D6D5\r\nReceived: from ES23SNLNT.srn.sandia.gov (ec04snlnt.sandia.gov\n [134.253.164.156] (may be forged)) by mailgate.sandia.gov (\n 8.13.6/8.13.6) with ESMTP id k92M4arW028981 for\n &lt;cantera@yahoogroups.com&gt;; Mon, 2 Oct 2006 16:04:51 -0600 (MDT)\r\nReceived: from ES22SNLNT.srn.sandia.gov ([134.253.164.158]) by\n ES23SNLNT.srn.sandia.gov with Microsoft SMTPSVC(6.0.3790.1830); Mon, 2\n Oct 2006 16:03:57 -0600\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Mon, 2 Oct 2006 16:03:56 -0600\r\nMessage-ID: &lt;3ACC7897A9463141BE0D938FC31DFD19021ACEAF@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [cantera] Re: Fortran - problem with meanmolarmass()\r\nThread-Index: AcbkFVR6RLoea/ytTPuYxqhk1W0ZWwCQXRnQ\r\nTo: cantera@yahoogroups.com\r\nX-OriginalArrivalTime: 02 Oct 2006 22:03:57.0267 (UTC)\n FILETIME=[A865C230:01C6E66E]\r\nX-TMWD-Spam-Summary: TS=20061002220453; SEV=2.0.2; DFV=A2006100209;\n IFV=2.0.4,4.0-8; RPD=4.00.0004; ENG=IBF; RPDID=NA; CAT=NONE; CON=NONE\r\nX-MMS-Spam-Filter-ID: A2006100209_4.00.0004_4.0-8\r\nX-WSS-ID: 693F528E0Q85770065-01-01\r\nContent-Type: text/plain;\n charset=us-ascii\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Moffat, Harry K&quot; &lt;hkmoffa@...&gt;\r\nSubject: RE: [cantera] Re: Fortran - problem with meanmolarmass()\r\nX-Yahoo-Group-Post: member; u=32942367; y=wnCFL9dRRJ5_BceG8GufotTDQSlQ5V2w9YgQ5_m4avuhVqg\r\nX-Yahoo-Profile: hkmoffat\r\n\r\nHi Dan,\n\nI have fixed one aspect of this problem within the CVS code. Previ=\r\nously,\nafter initialization, if the mole or mass fractions were not set in =\r\nthe\nCTI or CTML file within the state XML block, the ThermoPhase object\nwou=\r\nld have its mass fraction vector come back from initialization with\nit all =\r\nset to zeroes. Therefore, the mean molecular weight would return\na zero val=\r\nue, until the setstate_TPX() or setstate_TPY() routines were\ncalled. \n\nI ju=\r\nst committed a change to the CVS repository so that species #0 will\nhave it=\r\ns mass fraction set to 1.0 at initialization but before Cantera\nhandles the=\r\n  state XML block information. Therefore, the mass fraction\nvector should s=\r\num to one from the get-go.\n\nI hope the problems you are seeing will be fixe=\r\nd by this. However, I\nwould be very interested to know if this is not the c=\r\nase.\nmeanMolarMass() is just a wrapper around the kernel routine,\nState::me=\r\nanMolecularWeight(), in the State object. Cantera&#39;s independent\nvariables a=\r\nre density, temperature, and the mass fraction vector. The\nmean molecular w=\r\neight is calculated whenever the mass fraction vector is\nchanged. Then, the=\r\n meanMolecularWeight() function just reports the\nnumber. Setting the temper=\r\nature or the density (or equivalently the\npressure) shouldn&#39;t affect the in=\r\nternally calculated meanMolecularWeight\nvalue.\n\n\nBest wishes,\nHarry \n\n\nHarr=\r\ny Moffat                                             (w) (505)\n844-6912\nMul=\r\ntiphase Transport Processes Division    (f)   (505) 844-9297\nSandia Nationa=\r\nl Laboratories\nhkmoffa@...\nP. O. Box 5800-0834\nAlbuquerque, NM 87185=\r\n-0834\n\n-----Original Message-----\nFrom: cantera@yahoogroups.com [mailto:can=\r\ntera@yahoogroups.com] On Behalf\nOf Dan Smyth\nSent: Friday, September 29, 20=\r\n06 4:08 PM\nTo: cantera@yahoogroups.com\nSubject: [cantera] Re: Fortran - pro=\r\nblem with meanmolarmass()\n\nHey Michael,\n\nAn associate and I are trying to r=\r\neplace Chemkin calls, within a\ndeveloped Fortran code, with Cantera calls t=\r\nhrough the demo_lib.cpp\ninterface as a guide.  We have been having some tro=\r\nuble with the\nmeanmolarmass() call.  Sometimes it will work and other times=\r\n it will\nnot.  (When it will not work, the code will return a segmentation =\r\nfault\nwithin our Fortran code when the value returned is printed out).\n We =\r\nare guessing at this point that there is some conflict that we have\nnot fou=\r\nnd yet that makes this call work intermittently.  It does work at\npoints in=\r\n our code though, and so we think that this is a coding issue\non our side a=\r\nnd not a Cantera issue.  \n\nDan Smyth\n\n\n--- In cantera@yahoogroups.com, Mich=\r\nael Johnson &lt;johns3c@...&gt; wrote:\n&gt;\n&gt; Dear Cantera group,\n&gt; \n&gt; I am working =\r\non channel-flow simulations with DASSL, coupled to\nCantera.\n&gt; The command m=\r\neanmolarmass() returns a value of 0.0000E+00 but if I \n&gt; take the ratio of,=\r\n say, cp_mole()/cp_mass() it does return the proper\nvalue.\n&gt; \n&gt; I&#39;m running=\r\n on Linux, using the demo_ftnlib.cpp provided with the\nsource \n&gt; code. I ha=\r\nve looked through the header files under \n&gt; /usr/local/include/cantera but =\r\nhave been unable to find where\n&gt; meanMolecularWeight() is defined. It is ce=\r\nrtainly used to calculate \n&gt; molar properties with no problem, but I can&#39;t =\r\nfigure out why\n&gt; meanmolarmass() is not giving the proper value.\n&gt; \n&gt; Is an=\r\nyone out there using Cantera in Fortran?\n&gt; Thanks,\n&gt; Michael\n&gt;\n\n\n\n\n\n\n\n \nYah=\r\noo! Groups Links\n\n\n\n\n\n\n \n\n\n\n\n\n"}}