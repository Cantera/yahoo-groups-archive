{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"David Goodwin","from":"David Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"Akv2QPC0YUBmIQEDlZGQzUMjlIcPTP2yV_oDQ_BxYXwo0rP-PxTZ7dba1RxwFxD71KU9PtR-7nEOuA31y9V67zQNAgS_JrN2HeFh","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [cantera] equilibrate vs.  reactor model","postDate":"1121214133","msgId":927,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDdiMTZhMDhkMzIzZTEwMjUxZGM1ZGNhMmFmNjgzNDU0QGNhbHRlY2guZWR1Pg==","inReplyToHeader":"PGRiMWpiZitwdnBsQGVHcm91cHMuY29tPg==","referencesHeader":"PGRiMWpiZitwdnBsQGVHcm91cHMuY29tPg=="},"prevInTopic":926,"nextInTopic":960,"prevInTime":926,"nextInTime":928,"topicId":926,"numMessagesInTopic":4,"msgSnippet":"Scott, The temperature, pressure, and composition may appear to jump if there is an ignition event.  Try plotting the mass or mole fractions on a log scale","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 2095 invoked from network); 13 Jul 2005 00:22:51 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m24.grp.scd.yahoo.com with QMQP; 13 Jul 2005 00:22:51 -0000\r\nReceived: from unknown (HELO outgoing-mail.its.caltech.edu) (131.215.239.19)\n  by mta5.grp.scd.yahoo.com with SMTP; 13 Jul 2005 00:22:50 -0000\r\nReceived: from fire-dog (fire-dog [192.168.1.4])\n\tby water-ox-postvirus (Postfix) with ESMTP id 9FC5926ACF4\n\tfor &lt;cantera@yahoogroups.com&gt;; Tue, 12 Jul 2005 17:22:20 -0700 (PDT)\r\nReceived: from water-ox ([192.168.1.10])\n\tby fire-dog (MailMonitor for SMTP v1.2.2 ) ;\n\tTue, 12 Jul 2005 17:22:19 -0700 (PDT)\r\nReceived: from [10.0.1.3] (charter-241-094.caltech.edu [131.215.241.94])\n\t(using TLSv1 with cipher RC4-SHA (128/128 bits))\n\t(No client certificate requested)\n\tby water-ox.its.caltech.edu (Postfix) with ESMTP id 84DCF26AC28\n\tfor &lt;cantera@yahoogroups.com&gt;; Tue, 12 Jul 2005 17:22:18 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v622)\r\nIn-Reply-To: &lt;db1jbf+pvpl@...&gt;\r\nReferences: &lt;db1jbf+pvpl@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMessage-Id: &lt;7b16a08d323e10251dc5dca2af683454@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Tue, 12 Jul 2005 17:22:13 -0700\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.622)\r\nX-Spam-Status: No, hits=0.0 tagged_above=-100000.0 required=5.0 \r\nX-Spam-Level: \r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: David Goodwin &lt;dgoodwin@...&gt;\r\nSubject: Re: [cantera] equilibrate vs.  reactor model\r\nX-Yahoo-Group-Post: member; u=44728387; y=ObpmNgs1IzlSy7Bv9oREGLYjlY-961aQ5IM743PdTPUh\r\nX-Yahoo-Profile: dggoodwin\r\n\r\nScott,\n\nThe temperature, pressure, and composition may appear to &quot;jump&quot; if \nthere is an ignition event.  Try plotting the mass or mole fractions on \na log scale before the &quot;jump&quot;.  I bet you&#39;ll see some minor radical \nspecies growing exponentially before the jump.\n\nOn another issue - you are creating your reactor network within the \nloop.  Python should handle the memory allocation/deallocation fine \n(unlike MATLAB), but still this is bound to be slow.  Why not create it \nonce, before the loop, and then in the loop simply vary mdot of the \ninlet mass flow controller to change the residence time?\n\nAnother possible problem I see is that you are specifying mdot both at \nthe inlet and the outlet. If there is some slight numerical difference \nbetween the inlet and outlet values (even though they are specified to \nboth be 0.3) then mass in the reactor will build up or decrease.  A \nbetter approach is to use a valve or pressure regulator on the outlet.\n\nAnd finally, you only need to put reactor R in the ReactorNet object \nRN.  It doesn&#39;t hurt to include S and E, but since these (I assume) are \nreservoirs, &quot;advancing&quot; them does nothing.\n\nI realize of course that all of these points would be clearer if there \nwere more documentation and examples of how to do these things. I hope \nthis summer to make some headway on writing up some guides to various \nparts of Cantera, including reactor networks.\n\nDave\n\n\n\nOn Jul 12, 2005, at 4:22 PM, Scott wrote:\n\n&gt; Hi,\n&gt;\n&gt;     I was attempting to find the time to equilibrium using a reactor\n&gt; model with 1 inlet and 1 outlet.  I set the supply T,P,X and keep the\n&gt; pressure constant with a flexible wall (K=10^9).  Then I made a loop\n&gt; to update the volume until it matches a specific residence time in\n&gt; the reactor:\n&gt;             while dtres&gt;tres/100:\n&gt; ##                n=n+1\n&gt; ##                print n\n&gt;                 R=Reactor(gas,volume=vol)\n&gt;                 IN=MassFlowController(S,R,mdot=0.3)\n&gt;                 OUT=MassFlowController(R,E,mdot=0.3)\n&gt;                 Xfer=Wall(R,E,K=10^9)\n&gt;                 RN=ReactorNet([S,R,E])\n&gt;                 RN.advance(10000)\n&gt;                 tres_calc=gas.density()*R.volume()/.3\n&gt;                 dtres=abs(tres_calc-tres)\n&gt;                 vol=.3/gas.density()*tres\n&gt;             print gas.temperature(),gas.pressure(),gas.moleFraction\n&gt; (&#39;NO&#39;),gas.moleFraction(&#39;CO&#39;),gas.moleFraction(&#39;CH4&#39;),gas.moleFraction\n&gt; (&#39;CO2&#39;)\n&gt;\n&gt; Then I compare this value to the equilibrium value (I&#39;ve tried\n&gt; solver=1,2,3 and different tolerances... they all produce an answer\n&gt; withint the tolerance)\n&gt;\n&gt; The mole fractions that come out of the reactor model never reaches\n&gt; or approaches the value given by the equilibrium calculation.  Also,\n&gt; and more importantly, there is a jump in the concentrations and\n&gt; temperature of the reactor at approximately 1 second. The jump\n&gt; significant for all of the values I have been keeping track of, and\n&gt; orders of magnitude for NO and CO.\n&gt;\n&gt; I can understand why the reactor model as I have it set up may be\n&gt; different from the equilibrate, but why is there a jump in TPX around\n&gt; 1 second of residence time in the reactor?  I&#39;m not sure I&#39;ve\n&gt; described my situation completely, if you like I can send you the\n&gt; python script and excel plots.  Thanks\n&gt;\n&gt; Scott\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n"}}