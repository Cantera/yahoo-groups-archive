{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"David Goodwin","from":"David Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"dG6q2fgFhg07lyLnudbhbU3anxVIil5siMHSjLUjOBrJj6YkAvXO_4a0vHllQ4TGB5u0YtVAS8apMwo-vna02Vg4m2eTKFdIF0u7","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [cantera] Matlab files with some problems","postDate":"1113538615","msgId":765,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGM4NTAwZjA1M2JjMTUxMzU3NzA3ZjVmNzUwZDA3NDUwQGNhbHRlY2guZWR1Pg==","inReplyToHeader":"PDIwMDUwNDE0MTUzMDA4Ljk1NTU3LnFtYWlsQHdlYjYxMzE0Lm1haWwueWFob28uY29tPg==","referencesHeader":"PDIwMDUwNDE0MTUzMDA4Ljk1NTU3LnFtYWlsQHdlYjYxMzE0Lm1haWwueWFob28uY29tPg=="},"prevInTopic":764,"nextInTopic":0,"prevInTime":764,"nextInTime":766,"topicId":764,"numMessagesInTopic":2,"msgSnippet":"When I switched your calls to equilibrate in mixprop.m to the new solver, it runs fine almost all of the time.  But I can sometimes get it to fail (on the Mac)","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 29065 invoked from network); 15 Apr 2005 04:16:58 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m13.grp.scd.yahoo.com with QMQP; 15 Apr 2005 04:16:58 -0000\r\nReceived: from unknown (HELO outgoing-mail.its.caltech.edu) (131.215.239.19)\n  by mta2.grp.scd.yahoo.com with SMTP; 15 Apr 2005 04:16:58 -0000\r\nReceived: from fire-dog (fire-dog [192.168.1.4])\n\tby water-ox-postvirus (Postfix) with ESMTP id E60E626ADC8\n\tfor &lt;cantera@yahoogroups.com&gt;; Thu, 14 Apr 2005 21:16:57 -0700 (PDT)\r\nReceived: from water-ox ([192.168.1.10])\n\tby fire-dog (MailMonitor for SMTP v1.2.2 ) ;\n\tThu, 14 Apr 2005 21:16:57 -0700 (PDT)\r\nReceived: from [10.0.1.2] (charter-241-007.caltech.edu [131.215.241.7])\n\tby water-ox.its.caltech.edu (Postfix) with ESMTP id A2BA526ADC8\n\tfor &lt;cantera@yahoogroups.com&gt;; Thu, 14 Apr 2005 21:16:56 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v619.2)\r\nIn-Reply-To: &lt;20050414153008.95557.qmail@...&gt;\r\nReferences: &lt;20050414153008.95557.qmail@...&gt;\r\nContent-Type: multipart/alternative; boundary=Apple-Mail-1--60054530\r\nMessage-Id: &lt;c8500f053bc151357707f5f750d07450@...&gt;\r\nDate: Thu, 14 Apr 2005 21:16:55 -0700\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.619.2)\r\nX-Spam-Status: No, hits=0.0 tagged_above=-100000.0 required=5.0 \r\nX-Spam-Level: \r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: David Goodwin &lt;dgoodwin@...&gt;\r\nSubject: Re: [cantera] Matlab files with some problems\r\nX-Yahoo-Group-Post: member; u=44728387\r\nX-Yahoo-Profile: dggoodwin\r\n\r\n\r\n--Apple-Mail-1--60054530\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/plain;\n\tcharset=WINDOWS-1252;\n\tformat=flowed\r\n\r\nWhen I switched your calls to equilibrate in mixprop.m to the new \nsolver, =\r\nit runs fine almost all of the time.  But I can sometimes get \nit to fail (=\r\non the Mac) in a manner similar to what you describe if I \nrun it repeatabl=\r\ny and clear the MATLAB workspace and delete the Cantera \nobjects in between=\r\n calls. I believe the problem is in the Cantera \nMATLAB interface somewhere=\r\n; I doubt that this problem would appear in \nPython, and I really doubt it =\r\nwould occur in a C++ program.\n\nSo one option is to switch to using Python o=\r\nr C++.  Another is for you \nto dig into the MATLAB mex file code in C++ and=\r\n find out what is \nhappening by running matlab within the debugger, for exa=\r\nmple.\n\nAlthough many users of Cantera use MATLAB, I tend to use Python or C=\r\n++ \nfor my own work, and so the MATLAB interface suffers from some benign \n=\r\nneglect sometimes. What is needed is for someone who is good at MATLAB \nC++=\r\n mex file programming to take over some of the maintenance / \ndevelopment /=\r\n debugging of the Cantera MATLAB toolbox... any \nvolunteers?\n\nDave\n\n\n\nOn Ap=\r\nr 14, 2005, at 8:30 AM, xiao-yen wang wrote:\n\n&gt; here is the files. Hope it =\r\ncan help a little. Please let me know what \n&gt; you find out.\n&gt; xiaoyen\n&gt;\n&gt; D=\r\navid Goodwin &lt;dgoodwin@...&gt; wrote:\n&gt;  From what you describe, it is=\r\n hard to know where the problem is. Maybe\n&gt;  the equilibrium solver is havi=\r\nng trouble converging. You can tell it\n&gt; to use the new solver by giving a =\r\nthird non-zero parameter to\n&gt; equilibrate, e.g.:\n&gt;\n&gt; equilibrate(gas, &#39;TP&#39;,=\r\n 1)\n&gt;\n&gt; If the third paramter is missing or zero, the old solver will be us=\r\ned,\n&gt;  which is faster but less stable than the new one. Equilibrium proble=\r\nm\n&gt;  usually arise from specifying very hard initial conditions, like an\n&gt; =\r\nexactly stoichiometric fuel/air mixture at 300 K. Nevertheless, the new\n&gt;  =\r\nsolver should handle these cases.\n&gt;\n&gt; Other than that, you will need to do =\r\nsome debugging to isolate the\n&gt;  problem. Since the transport demo works, y=\r\nou can start with it and\n&gt;  modify it one line at a time until it looks lik=\r\ne your m-file that\n&gt;  fails. In that way, you should be able to track down =\r\nexactly what\n&gt;  change causes failure. If it is not due to an initial condi=\r\ntion and\n&gt;  seems to be something in Cantera, then see how small an m-file =\r\nyou can\n&gt;  create that still fails by removing extraneous lines. For exampl=\r\ne,\n&gt;  does it fail if you only do equillibrium? Or do you need to compute\n&gt;=\r\n  transport propertiess for it to fail?\n&gt;\n&gt; Once you have isolated the prob=\r\nlem, send the short m-file to me, and I\n&gt; can see if it fails for me too, a=\r\nnd see what the problem is.\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; On Apr 13, 2005, at 7:27 AM, xiao-yen=\r\n wang wrote:\n&gt;\n&gt; &gt; Dear Prof. Goodwin:\n&gt; &gt;\n&gt; &gt; Two weeks ago I posted the f=\r\nollowing message:\n&gt; &gt;\n&gt; &gt; Hi, there: Recently I tried to run Cantera 1.5.5 =\r\nwith Matlab on PC. I\n&gt; &gt; need compute the transport properties of a gas mix=\r\nture. I run the \n&gt; file\n&gt; &gt; transport1.m in the MATLAB/demos and it works f=\r\nine. But when I run my\n&gt; &gt; own M file in which function equilibrate is used=\r\n, I got different \n&gt; kind\n&gt; &gt; of error messages. So metimes, it runs and gi=\r\nves me a reasonable \n&gt; result,\n&gt; &gt; sometimes, it runs and gives Nan for all=\r\n transport properties,\n&gt;  &gt; sometimes\n&gt; &gt; it does not run and gives error m=\r\nessage such as &#39;segmentation error&#39;.\n&gt; &gt; Note that the code itself is the s=\r\name. I just try run different \n&gt; times.\n&gt; &gt; It gives me different things. I=\r\n guess it is related to memory. Any \n&gt; help\n&gt; &gt; to fix this will be highly =\r\nappreciated. Thanks!\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; I have not received any reply. My colleagu=\r\ne had the similar problem.\n&gt;  &gt; We are in the process to incoporate Cantera=\r\n into our system modleing\n&gt;  &gt; using Matlab. One of my colleague does NOT h=\r\nas problem because he \n&gt; has\n&gt;  &gt; the older version of Cantera. We need a s=\r\nolution to fix the problem.\n&gt;  &gt; Could you please look into this? Should we=\r\n download the older \n&gt; version\n&gt;  &gt; of Cantera? And which version should we=\r\n use?\n&gt; &gt;\n&gt; &gt; Thanks again!\n&gt; &gt;\n&gt; &gt; xiaoyen wang\n&gt; &gt;\n&gt; &gt; =A0\n&gt; &gt;\n&gt; &gt; Do yo =\r\nu Yahoo!?\n&gt; &gt; Yahoo! Small Business - Try our new resources site!\n&gt; &gt;\n&gt; &gt; Y=\r\nahoo! Groups Links\n&gt; &gt;\n&gt; &gt; =95 To visit your group on the web, go to:\n&gt; &gt; h=\r\nttp://groups.yahoo.com/group/cantera/\n&gt; &gt; =A0\n&gt; &gt; =95 To unsubscribe from t=\r\nhis group, send an email to:\n&gt; &gt; cantera-unsubscribe@yahoogroups.com\n&gt; &gt; =\r\n=A0\n&gt; &gt; =95 Your use of Yahoo! Groups is subject to the Yahoo! Terms of\n&gt; &gt;=\r\n Service.\n&gt; &gt;\n&gt; &gt;\n&gt;\n&gt;  __________________________________________________\n&gt;=\r\n Do You Yahoo!?\n&gt; Tired of spam? Yahoo! Mail has the best spam protection a=\r\nround\n&gt; http://mail.yahoo.com\n&gt;\n&gt;  Yahoo! Groups Links\n&gt;\n&gt; \t=95 \tTo visit y=\r\nour group on the web, go to:\n&gt; http://groups.yahoo.com/group/cantera/\n&gt; =A0=\r\n\n&gt; \t=95 \t To unsubscribe from this group, send an email to:\n&gt; cantera-unsub=\r\nscribe@yahoogroups.com\n&gt; =A0\n&gt; \t=95 \t Your use of Yahoo! Groups is subject =\r\nto the Yahoo! Terms of \n&gt; Service.\n&gt;\n&gt;\n&gt; &lt;error_message.m&gt;&lt;errormessage2.m&gt;=\r\n&lt;mixprop.m&gt;&lt;test_transport1.m&gt;\r\n--Apple-Mail-1--60054530\r\nContent-Transfer-Encoding: quoted-printable\r\nContent-Type: text/enriched;\n\tcharset=WINDOWS-1252\r\n\r\nWhen I switched your calls to equilibrate in mixprop.m to the new\nsolver, i=\r\nt runs fine almost all of the time.  But I can sometimes get\nit to fail (on=\r\n the Mac) in a manner similar to what you describe if I\nrun it repeatably a=\r\nnd clear the MATLAB workspace and delete the\nCantera objects in between cal=\r\nls. I believe the problem is in the\nCantera MATLAB interface somewhere; I d=\r\noubt that this problem would\nappear in Python, and I really doubt it would =\r\noccur in a C++ program. \n\n\nSo one option is to switch to using Python or C+=\r\n+.  Another is for you\nto dig into the MATLAB mex file code in C++ and find=\r\n out what is\nhappening by running matlab within the debugger, for example. =\r\n\n\n\nAlthough many users of Cantera use MATLAB, I tend to use Python or C++\nf=\r\nor my own work, and so the MATLAB interface suffers from some benign\nneglec=\r\nt sometimes. What is needed is for someone who is good at MATLAB\nC++ mex fi=\r\nle programming to take over some of the maintenance /\ndevelopment / debuggi=\r\nng of the Cantera MATLAB toolbox... any\nvolunteers? \n\n\nDave\n\n\n\n \n\nOn Apr 14=\r\n, 2005, at 8:30 AM, xiao-yen wang wrote:\n\n\n&lt;excerpt&gt;here is the files. Hope=\r\n it can help a little. Please let me\nknow what you find out.\n\nxiaoyen\n\n\n&lt;bo=\r\nld&gt;&lt;italic&gt;David Goodwin &lt;&lt;dgoodwin@...&gt;&lt;/italic&gt;&lt;/bold&gt;\nwrote:\n\n F=\r\nrom what you describe, it is hard to know where the problem is. Maybe\n\n the=\r\n equilibrium solver is having trouble converging. You can tell it \n\nto use =\r\nthe new solver by giving a third non-zero parameter to \n\nequilibrate, e.g.:=\r\n\n\n\nequilibrate(gas, &#39;TP&#39;, 1)\n\n\nIf the third paramter is missing or zero, th=\r\ne old solver will be used,\n\n which is faster but less stable than the new o=\r\nne. Equilibrium problem\n\n usually arise from specifying very hard initial c=\r\nonditions, like an \n\nexactly stoichiometric fuel/air mixture at 300 K. Neve=\r\nrtheless, the new\n\n solver should handle these cases.\n\n\nOther than that, yo=\r\nu will need to do some debugging to isolate the\n\n problem. Since the transp=\r\nort demo works, you can start with it and\n\n modify it one line at a time un=\r\ntil it looks like your m-file that\n\n fails. In that way, you should be able=\r\n to track down exactly what\n\n change causes failure. If it is not due to an=\r\n initial condition and\n\n seems to be something in Cantera, then see how sma=\r\nll an m-file you can\n\n create that still fails by removing extraneous lines=\r\n. For example,\n\n does it fail if you only do equillibrium? Or do you need t=\r\no compute\n\n transport propertiess for it to fail?\n\n\nOnce you have isolated =\r\nthe problem, send the short m-file to me, and I \n\ncan see if it fails for m=\r\ne too, and see what the problem is.\n\n\n\n\n\nOn Apr 13, 2005, at 7:27 AM, xiao-=\r\nyen wang wrote:\n\n\n&gt; Dear Prof. Goodwin:\n\n&gt;\n\n&gt; Two weeks ago I posted the fo=\r\nllowing message:\n\n&gt;\n\n&gt; Hi, there: Recently I tried to run Cantera 1.5.5 wit=\r\nh Matlab on PC. I\n\n&gt; need compute the transport properties of a gas mixture=\r\n. I run the\nfile\n\n&gt; transport1.m in the MATLAB/demos and it works fine. But=\r\n when I run my\n\n&gt; own M file in which function equilibrate is used, I got d=\r\nifferent\nkind\n\n&gt; of error messages. So metimes, it runs and gives me a reas=\r\nonable\nresult,\n\n&gt; sometimes, it runs and gives Nan for all transport proper=\r\nties,\n\n &gt; sometimes\n\n&gt; it does not run and gives error message such as &#39;seg=\r\nmentation error&#39;.\n\n&gt; Note that the code itself is the same. I just try run =\r\ndifferent\ntimes.\n\n&gt; It gives me different things. I guess it is related to =\r\nmemory. Any\nhelp\n\n&gt; to fix this will be highly appreciated. Thanks!\n\n&gt;\n\n&gt;\n\n=\r\n&gt; I have not received any reply. My colleague had the similar problem.\n\n &gt; =\r\nWe are in the process to incoporate Cantera into our system modleing\n\n &gt; us=\r\ning Matlab. One of my colleague does NOT has problem because he\nhas\n\n &gt; the=\r\n older version of Cantera. We need a solution to fix the problem.\n\n &gt; Could=\r\n you please look into this? Should we download the older\nversion\n\n &gt; of Can=\r\ntera? And which version should we use?\n\n&gt;\n\n&gt; Thanks again!\n\n&gt;\n\n&gt; xiaoyen wa=\r\nng\n\n&gt;\n\n&gt; =A0\n\n&gt;\n\n&gt; Do yo u Yahoo!?\n\n&gt; Yahoo! Small Business - Try our new r=\r\nesources site!\n\n&gt;\n\n&gt; Yahoo! Groups Links\n\n&gt;\n\n&gt; =95 To visit your group on t=\r\nhe web, go to:\n\n&gt; http://groups.yahoo.com/group/cantera/\n\n&gt; =A0\n\n&gt; =95 To u=\r\nnsubscribe from this group, send an email to:\n\n&gt; cantera-unsubscribe@yahoog=\r\nroups.com\n\n&gt; =A0\n\n&gt; =95 Your use of Yahoo! Groups is subject to the Yahoo! =\r\nTerms of \n\n&gt; Service.\n\n&gt;\n\n&gt;\n\n\n ____________________________________________=\r\n______\n\nDo You Yahoo!?\n\nTired of spam? Yahoo! Mail has the best spam protec=\r\ntion around \n\nhttp://mail.yahoo.com \n\n\n &lt;bold&gt;&lt;smaller&gt;Yahoo! Groups Links&lt;=\r\n/smaller&gt;&lt;/bold&gt;\n\n\n&lt;fixed&gt;\t=95 \tTo visit your group on the web, go to:&lt;/fix=\r\ned&gt;\n\n&lt;fixed&gt;&lt;color&gt;&lt;param&gt;0000,0000,EEEE&lt;/param&gt;http://groups.yahoo.com/gro=\r\nup/cantera/&lt;/color&gt;&lt;/fixed&gt;\n\n&lt;fixed&gt;=A0&lt;/fixed&gt;\n\n&lt;fixed&gt;\t=95 \t To unsubscri=\r\nbe from this group, send an email to:&lt;/fixed&gt;\n\n&lt;fixed&gt;&lt;color&gt;&lt;param&gt;0000,00=\r\n00,EEEE&lt;/param&gt;cantera-unsubscribe@yahoogroups.com&lt;/color&gt;&lt;/fixed&gt;\n\n&lt;fixed&gt;=\r\n=A0&lt;/fixed&gt;\n\n&lt;fixed&gt;\t=95 \t Your use of Yahoo! Groups is subject to the\n&lt;col=\r\nor&gt;&lt;param&gt;0000,0000,EEEE&lt;/param&gt;Yahoo! Terms of Service&lt;/color&gt;.&lt;/fixed&gt;\n\n\n=\r\n \n\n&lt;&lt;error_message.m&gt;&lt;&lt;errormessage2.m&gt;&lt;&lt;mixprop.m&gt;&lt;&lt;test_transport1.m&gt;&lt;/ex=\r\ncerpt&gt;\r\n--Apple-Mail-1--60054530--\r\n\n"}}