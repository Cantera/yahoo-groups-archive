{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"David Goodwin","from":"David Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"16cp6yPOhO79QbJyEnikfdQKFWciW0q_JXguf4_O4MMZsxkIaTlGfy7d4NQh3jf08PieytKN9dMVyw0A3xynkNH_K_oIHACuC1ww","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [cantera] Re: ChemEquil problems","postDate":"1116022428","msgId":791,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDc2YzhkYWUwYTYxNzU2YTM1NjUxNDg1MTVmODFmMzI2QGNhbHRlY2guZWR1Pg==","inReplyToHeader":"PGQ2MzVhbituamIyQGVHcm91cHMuY29tPg==","referencesHeader":"PGQ2MzVhbituamIyQGVHcm91cHMuY29tPg=="},"prevInTopic":790,"nextInTopic":1538,"prevInTime":790,"nextInTime":792,"topicId":776,"numMessagesInTopic":7,"msgSnippet":"One option is to write an outer loop that iterates on T until the desired H is attained.  A Newton-like algorithm would probably converge very quickly. With","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 49699 invoked from network); 13 May 2005 22:13:59 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m21.grp.scd.yahoo.com with QMQP; 13 May 2005 22:13:59 -0000\r\nReceived: from unknown (HELO outgoing-mail.its.caltech.edu) (131.215.239.19)\n  by mta5.grp.scd.yahoo.com with SMTP; 13 May 2005 22:13:59 -0000\r\nReceived: from earth-dog (earth-dog [192.168.1.3])\n\tby water-ox-postvirus (Postfix) with ESMTP id 28A5D26ADF7\n\tfor &lt;cantera@yahoogroups.com&gt;; Fri, 13 May 2005 15:13:59 -0700 (PDT)\r\nReceived: from earth-ox ([192.168.1.9])\n\tby earth-dog (MailMonitor for SMTP v1.2.2 ) ;\n\tFri, 13 May 2005 15:13:58 -0700 (PDT)\r\nReceived: from [10.0.1.3] (charter-241-007.caltech.edu [131.215.241.7])\n\tby earth-ox.its.caltech.edu (Postfix) with ESMTP id 2F515109B8C\n\tfor &lt;cantera@yahoogroups.com&gt;; Fri, 13 May 2005 15:13:54 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v622)\r\nIn-Reply-To: &lt;d635an+njb2@...&gt;\r\nReferences: &lt;d635an+njb2@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMessage-Id: &lt;76c8dae0a61756a3565148515f81f326@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Fri, 13 May 2005 15:13:48 -0700\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.622)\r\nX-Spam-Status: No, hits=0.0 tagged_above=-100000.0 required=5.0 \r\nX-Spam-Level: \r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: David Goodwin &lt;dgoodwin@...&gt;\r\nSubject: Re: [cantera] Re: ChemEquil problems\r\nX-Yahoo-Group-Post: member; u=44728387\r\nX-Yahoo-Profile: dggoodwin\r\n\r\n\nOne option is to write an outer loop that iterates on T until the \ndesired H is attained.  A Newton-like algorithm would probably converge \nvery quickly.\n\nWith the new equilibrium solver, it is possible to supply an initial \nguess.  But this hasn&#39;t made its way into the released version.  The \nissue is entirely one of my finding the time to work on this and other \ndesired new features.  Cantera has grown beyond a one-person \ndevelopment effort, and my backlog of non-Cantera commitments is going \nto keep me from devoting much time to it for the next few weeks at \nleast.\n\nI&#39;m not entirely sure what to do about this general problem.  One \npossibility would be for users to make voluntary cash donations that I \ncould use to hire some programming help to provide faster response to \nrequests for new features, bug fixes, etc. There is currently a \nmechanism in place through sourceforge where you can donate to this \nproject.  All donations will be accepted, no matter how small (or \nlarge), and all will be used solely for furthering Cantera development. \n  You even get your name listed on the web site as a Cantera supporter!\n\nOr perhaps there are other ways to do this.  Since Cantera is \nopen-source, if any of you have idle programming talent at your \ncompany, lab, or university, I&#39;d be happy to provide direction on what \nneeds doing...\n\n  If anyone has thoughts on this, please let me know.\n\nDave\n\n\n\nOn May 13, 2005, at 2:13 PM, jcs6a50 wrote:\n\n&gt; If I solve the equilibrium problem using a speficied temperature, I am\n&gt; able to solve it easily for the entire range of enthalpies that I wish\n&gt; to cover.\n&gt;\n&gt; However, what I would really like is to specify pressure and enthalpy\n&gt; and solve the problem, rather than having to specify pressure and\n&gt; temperature interpolate results to the enthalpy that is needed.\n&gt;\n&gt; I could use the TP mode to get a good guess for the HP solution,\n&gt; however.  Are there any plans to activate the &quot;contin&quot; option to allow\n&gt; a good initial guess to be passed through to the equilibrium solver?\n&gt;\n&gt; If not, I will just interpolate the TP results...\n&gt;\n&gt; Thanks,\n&gt;\n&gt; James\n&gt;\n&gt; --- In cantera@yahoogroups.com, &quot;jcs6a50&quot; &lt;jnsuthe@s...&gt; wrote:\n&gt;&gt; The temperatures at which failure occur are not necessarily below\n&gt; the\n&gt;&gt; polynomial fit ranges; in that case, I understand that there may be\n&gt;&gt; problems.  I am using the setState_HP method to fix the enthalpy,\n&gt; and\n&gt;&gt; perform the calculation at successively lower enthalpies.\n&gt;&gt;\n&gt;&gt; One thing that could be very useful is to implement the &quot;contin&quot;\n&gt;&gt; option that would allow a better initial guess for the equilibrium\n&gt;&gt; state to be provided.  Are there plans to do this in the near\n&gt; future?\n&gt;&gt;\n&gt;&gt; Thanks,\n&gt;&gt;\n&gt;&gt; James\n&gt;&gt;\n&gt;&gt; --- In cantera@yahoogroups.com, David Goodwin &lt;dgoodwin@c...&gt; wrote:\n&gt;&gt;&gt; I haven&#39;t run into this problem before. I suppose you&#39;re\n&gt; decreasing\n&gt;&gt; the\n&gt;&gt;&gt; enthalpy by calling &#39;setState_HP&#39; first with the desired enthalpy\n&gt;&gt; and\n&gt;&gt;&gt; pressure and initial composition.  I bet the problem is that the\n&gt;&gt;&gt; resulting initial temperature is so low that it is either out of\n&gt;&gt; range\n&gt;&gt;&gt; for the thermo data, or causes numerical problems for other\n&gt; reasons.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Can you run the problem fixing (T,P) rather than (H,P)?\n&gt;&gt;&gt;\n&gt;&gt;&gt; You might also try the new equilibrium solver, which doesn&#39;t use\n&gt;&gt;&gt; ChemEquil.  In Python, you can access it by creating a &#39;Mixture&#39;\n&gt;&gt;&gt; containing the gas phase:\n&gt;&gt;&gt;\n&gt;&gt;&gt; gas = GRI30()\n&gt;&gt;&gt; mix = Mixture([(gas, 1.0)])\n&gt;&gt;&gt; mix.equilibrate(&#39;HP&#39;)\n&gt;&gt;&gt; print mix\n&gt;&gt;&gt;\n&gt;&gt;&gt; And if you want to include a condensed phase, you can do it like\n&gt;&gt; this:\n&gt;&gt;&gt; gas = GRI30()\n&gt;&gt;&gt; carbon = importPhase(&#39;graphite.cti&#39;)\n&gt;&gt;&gt; mix = Mixture([(gas, 1.0), (carbon, 0.0)])\n&gt;&gt;&gt; mix.equilibrate(&#39;HP&#39;)\n&gt;&gt;&gt; print mix\n&gt;&gt;&gt;\n&gt;&gt;&gt; Depending on the version of Cantera you have this may or may not\n&gt;&gt; work.\n&gt;&gt;&gt; It definitely works with the prerelease of version 1.6, available\n&gt;&gt; by\n&gt;&gt;&gt; CVS.\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dave\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; On Apr 29, 2005, at 11:05 AM, jcs6a50 wrote:\n&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; All,\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Has anyone had trouble getting ChemEquil to behave?  I am\n&gt; running\n&gt;&gt; a\n&gt;&gt;&gt;&gt; simple equilibrium problem with Ideal gases (and GRI3.0).  I\n&gt; want\n&gt;&gt; to\n&gt;&gt;&gt;&gt; compute equilibrium solutions for a range of stoichiometries and\n&gt;&gt;&gt;&gt; various enthalpies.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; At adiabatic enthalpies, things work fine.  However, as I\n&gt;&gt; decrease the\n&gt;&gt;&gt;&gt; enthalpy further from the adiabatic value, ChemEquil hangs in\n&gt;&gt;&gt;&gt; ChemEquil::setInitialMoles inside the call to simplx_.  It gets\n&gt;&gt; stuck\n&gt;&gt;&gt;&gt; in an infinite loop (the L20-L30 loop).\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Any thoughts?\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; James\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n"}}