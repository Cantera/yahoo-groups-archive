{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":199659816,"authorName":"martin olausson","from":"martin olausson &lt;m.olausson@...&gt;","profile":"rauskopf","replyTo":"LIST","senderId":"dqiqpu7V0hl_FvafXiXXda6xeBH1T1ERYRtKQHThCPCEbGXHeoA4qI5quBCPkmRPgS8lcrH4Xw0qLgUUkck6lTQZobxlvXpSqi0tSCg","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [cantera] convergens","postDate":"1101560260","msgId":617,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDVmY2RiYTIwNDExMjcwNDU3NDBkNzkzYjlAbWFpbC5nbWFpbC5jb20+","inReplyToHeader":"PEZDNkNBQkMxLTNGQzMtMTFEOS1COTE5LTAwMEQ5M0FFMjQxQUBjYWx0ZWNoLmVkdT4=","referencesHeader":"PDVmY2RiYTIwNDExMjYwMTUyNGU1NDJkMzZAbWFpbC5nbWFpbC5jb20+CSA8RkM2Q0FCQzEtM0ZDMy0xMUQ5LUI5MTktMDAwRDkzQUUyNDFBQGNhbHRlY2guZWR1Pg=="},"prevInTopic":616,"nextInTopic":0,"prevInTime":616,"nextInTime":618,"topicId":615,"numMessagesInTopic":3,"msgSnippet":"David, Ok, thank you for your quick respond. It might be something with the thermodynamics as you say, while I took it from another place... Regards Martin","rawEmail":"Return-Path: &lt;m.olausson@...&gt;\r\nX-Sender: m.olausson@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 41351 invoked from network); 27 Nov 2004 12:57:42 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m19.grp.scd.yahoo.com with QMQP; 27 Nov 2004 12:57:42 -0000\r\nReceived: from unknown (HELO wproxy.gmail.com) (64.233.184.204)\n  by mta5.grp.scd.yahoo.com with SMTP; 27 Nov 2004 12:57:42 -0000\r\nReceived: by wproxy.gmail.com with SMTP id 57so462608wri\n        for &lt;cantera@yahoogroups.com&gt;; Sat, 27 Nov 2004 04:57:41 -0800 (PST)\r\nDomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;\n        s=beta; d=gmail.com;\n        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;\n        b=J2ymahIEmwT1156UWephbGCZi8UESip4c/uu7XwRW7EV0WiZnaPGoHwLAENOL1AEOgm6+sr35kc+IF0wGki8RDZVwuf3ZdadRQo3D/SnMCQqaytndo/w0TBo3sOqMIzO10Or4dorpgbF3yjVa9qRBXCHoATduQ0vjkySfung0wo=\r\nReceived: by 10.54.23.3 with SMTP id 3mr1690753wrw;\n        Sat, 27 Nov 2004 04:57:40 -0800 (PST)\r\nReceived: by 10.54.22.50 with HTTP; Sat, 27 Nov 2004 04:57:40 -0800 (PST)\r\nMessage-ID: &lt;5fcdba2041127045740d793b9@...&gt;\r\nDate: Sat, 27 Nov 2004 13:57:40 +0100\r\nTo: cantera@yahoogroups.com\r\nIn-Reply-To: &lt;FC6CABC1-3FC3-11D9-B919-000D93AE241A@...&gt;\r\nMime-Version: 1.0\r\nContent-Type: text/plain; charset=US-ASCII\r\nContent-Transfer-Encoding: 7bit\r\nReferences: &lt;5fcdba204112601524e542d36@...&gt;\n\t &lt;FC6CABC1-3FC3-11D9-B919-000D93AE241A@...&gt;\r\nX-eGroups-Remote-IP: 64.233.184.204\r\nFrom: martin olausson &lt;m.olausson@...&gt;\r\nReply-To: martin olausson &lt;m.olausson@...&gt;\r\nSubject: Re: [cantera] convergens\r\nX-Yahoo-Group-Post: member; u=199659816\r\nX-Yahoo-Profile: rauskopf\r\n\r\nDavid,\n\nOk, thank you for your quick respond. It might be something with the\nthermodynamics as you say, while I took it from another place...\n\nRegards\nMartin\n\n\nOn Fri, 26 Nov 2004 07:58:17 -0800, David Goodwin &lt;dgoodwin@...&gt; wrote:\n&gt; Martin,\n&gt; \n&gt; It looks like a mechanism problem.  You can see what the CVODE error is \n&gt; if you run MATLAB in a shell window, rather than through its graphical \n&gt; interface (although I don&#39;t know if this is possible in Windows). I do \n&gt; it by giving the command\n&gt; \n&gt; matlab -nodisplay -nojvm -nosplash\n&gt; \n&gt; When I run your matlab script in this way, I see the error message \n&gt; CVODE prints:\n&gt; \n&gt; CVode-- At t=4.6612e-13 and step size h=3.52863e-19, the error test\n&gt; failed repeatedly or with |h| = hmin.\n&gt; \n&gt; This doesn&#39;t show up when running MATLAB the usual way, since CVODE \n&gt; prints this to the standard output, which MATLAB seems to ignore.\n&gt; \n&gt; Anyway, this message means that CVODE is unable to take a step, even \n&gt; one as small as 10^-19 s. This usually occurs when some reaction has a \n&gt; huge rate, either due to some error in the mechanism,  or in some cases \n&gt; to initial conditions. (For example, starting with a composition of \n&gt; just H and O at 300 K might do this.)  In your case, it looks like one \n&gt; reaction has an extremely large reverse rate of progress - 10^17 \n&gt; kmol/m3/s  (do &#39;rop_r(gas)&#39; in MATLAB to see this).  I suspect that \n&gt; this is causing your problems. It may be that the forward rate constant \n&gt; is too large, or that the thermochemistry for some species is in error.\n&gt; \n&gt; Dave\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; On Nov 26, 2004, at 1:52 AM, martin olausson wrote:\n&gt; \n&gt; &gt; Hi,\n&gt; &gt;\n&gt; &gt; I&#39;m now using Cantera in fluent (through an udf) with a pyrolysis\n&gt; &gt; mechanism I found in the literature. I have a problem with Cantera not\n&gt; &gt; always converging (cvode error). It may have something to do with my\n&gt; &gt; mechanism. I can get what I think is the same error in matlab, by\n&gt; &gt; creating a gas with random mass fractions, and advance it in a reactor\n&gt; &gt; (see matlab script and cti-file attached). When I do the same thing\n&gt; &gt; with the gri30 mechanism I haven&#39;t been able to get the same error.\n&gt; &gt; Are there any parameters that can bee set in the ode-solver to fix\n&gt; &gt; this, or is it perhaps a bad mechanism?\n&gt; &gt;\n&gt; &gt; Regards\n&gt; &gt; Martin Olausson\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; %%%%%% matlab script that produce errors %%%%%%%%%\n&gt; &gt;\n&gt; &gt; clear\n&gt; &gt; cleanup\n&gt; &gt;\n&gt; &gt; gas = idealgasmix(&#39;pyrolysis.cti&#39;);\n&gt; &gt;\n&gt; &gt; for i=1:30\n&gt; &gt;\n&gt; &gt;     % Create random mass fraction, massi\n&gt; &gt;     eval([&#39;mass&#39; num2str(i) &#39; = &#39;&#39;H2:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; H:&#39; num2str(rand(1)) &#39; CH3:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; CH4:&#39; num2str(rand(1)) &#39; C2H:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; C2H2:&#39; num2str(rand(1)) &#39; C2H3:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; C2H4:&#39; num2str(rand(1)) &#39; C2H5:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; C2H6:&#39; num2str(rand(1)) &#39; p-C3H4:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; a-C3H4:&#39; num2str(rand(1)) &#39; C3H5:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; C3H6:&#39; num2str(rand(1)) &#39; n-C3H7:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; C4H4:&#39; num2str(rand(1)) &#39; C4H5:&#39; num2str(rand(1)) ...\n&gt; &gt;         &#39; C4H6:&#39; num2str(rand(1)) &#39; C6H6:&#39; num2str(rand(1)) &#39;&#39;&#39;;&#39;]);\n&gt; &gt;\n&gt; &gt;     % set(gas, &#39;Y&#39;, massi, &#39;T&#39;, 400, &#39;P&#39;, 101325);\n&gt; &gt;     eval([&#39;set(gas, &#39;&#39;Y&#39;&#39;, mass&#39; num2str(i) &#39;, &#39;&#39;T&#39;&#39;, 400, ...\n&gt; &gt;         &#39;&#39;P&#39;&#39;, 101325);&#39;]);\n&gt; &gt;\n&gt; &gt;     % ri = reactor(gas);\n&gt; &gt;     eval([&#39;r&#39; num2str(i) &#39; = reactor(gas);&#39;]);\n&gt; &gt;\n&gt; &gt;     % advance(ri, 1e-5);\n&gt; &gt;     eval([&#39;advance(r&#39; num2str(i) &#39;, 1e-5);&#39;]);\n&gt; &gt;\n&gt; &gt; end\n&gt; &gt;\n&gt; &gt; %%%%%%%% end of matlab script %%%%%%%%%%%%%\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; &lt;pyrolysis.cti&gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; Yahoo! Groups Sponsor\n&gt; \n&gt; ADVERTISEMENT\n&gt; \n&gt; \n&gt; ________________________________\n&gt; Yahoo! Groups Links\n&gt; \n&gt; To visit your group on the web, go to:\n&gt; http://groups.yahoo.com/group/cantera/\n&gt;   \n&gt; To unsubscribe from this group, send an email to:\n&gt; cantera-unsubscribe@yahoogroups.com\n&gt;   \n&gt; Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.\n\n"}}