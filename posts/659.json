{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"David Goodwin","from":"David Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"Gx_LG_PQUqcuB5PwjH8ADRltENH3ktesCnkh255PglsrHLl7kx5FsLDeRNjYARuDHwwJbf1UMDJQYDSMvG_s4klvkPIHHhmcmGko","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [cantera] Errors setting entropy and pressure in fluids","postDate":"1105046352","msgId":659,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDlDODk3NEQ0LTYwMjgtMTFEOS1CNjJCLTAwMEQ5M0FFMjQxQUBjYWx0ZWNoLmVkdT4=","inReplyToHeader":"PDQxREQ5ODFFLjgwMzAxMDhAc3RhbmZvcmQuZWR1Pg==","referencesHeader":"PGNyZjJvcyt2cXI5QGVHcm91cHMuY29tPiA8MzMwQkM0OUItNUVDRS0xMUQ5LUI2MzMtMDAwRDkzQUUyNDFBQGNhbHRlY2guZWR1PiA8NDFERDk4MUUuODAzMDEwOEBzdGFuZm9yZC5lZHU+"},"prevInTopic":658,"nextInTopic":0,"prevInTime":658,"nextInTime":660,"topicId":653,"numMessagesInTopic":4,"msgSnippet":"As a workaround, since you are building from the source code you could simply go into Sub.cpp and comment out the check on the densities that causes that","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 64029 invoked from network); 6 Jan 2005 21:19:15 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m25.grp.scd.yahoo.com with QMQP; 6 Jan 2005 21:19:15 -0000\r\nReceived: from unknown (HELO outgoing-mail.its.caltech.edu) (131.215.49.69)\n  by mta6.grp.scd.yahoo.com with SMTP; 6 Jan 2005 21:19:15 -0000\r\nReceived: from fire-dog (fire-dog [192.168.1.4])\n\tby earth-ox-postvirus (Postfix) with ESMTP id A8081109E79\n\tfor &lt;cantera@yahoogroups.com&gt;; Thu,  6 Jan 2005 13:19:14 -0800 (PST)\r\nReceived: from water-ox ([192.168.1.10])\n\tby fire-dog (MailMonitor for SMTP v1.2.2 ) ;\n\tThu, 6 Jan 2005 13:19:14 -0800 (PST)\r\nReceived: from [10.1.243.223] (mystic.caltech.edu [131.215.220.112])\n\tby water-ox.its.caltech.edu (Postfix) with ESMTP id B16FC26AF4D\n\tfor &lt;cantera@yahoogroups.com&gt;; Thu,  6 Jan 2005 13:19:13 -0800 (PST)\r\nMime-Version: 1.0 (Apple Message framework v619)\r\nIn-Reply-To: &lt;41DD981E.8030108@...&gt;\r\nReferences: &lt;crf2os+vqr9@...&gt; &lt;330BC49B-5ECE-11D9-B633-000D93AE241A@...&gt; &lt;41DD981E.8030108@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMessage-Id: &lt;9C8974D4-6028-11D9-B62B-000D93AE241A@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Thu, 6 Jan 2005 13:19:12 -0800\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.619)\r\nX-Spam-Status: No, hits=0.0 tagged_above=-100000.0 required=5.0 \r\nX-Spam-Level: \r\nX-eGroups-Remote-IP: 131.215.49.69\r\nFrom: David Goodwin &lt;dgoodwin@...&gt;\r\nSubject: Re: [cantera] Errors setting entropy and pressure in fluids\r\nX-Yahoo-Group-Post: member; u=44728387\r\nX-Yahoo-Profile: dggoodwin\r\n\r\nAs a workaround, since you are building from the source code you could \nsimply go into Sub.cpp and comment out the check on the densities that \ncauses that exception to be thrown...  but I&#39;ll take another look at \nit.\n\n\nOn Jan 6, 2005, at 11:57 AM, R A Hunt wrote:\n\n&gt;\n&gt; Thank you very much!  That did indeed fix that problem as shown in the\n&gt; matlab file.\n&gt;\n&gt; However, I&#39;m getting the same error again in a similar situation\n&gt; (setting T & P) with the updated code.  I&#39;m not sure if this is a \n&gt; follow\n&gt; up or a different problem.  T seems to be less than Tcrit when the \n&gt; error\n&gt; is thrown.\n&gt;\n&gt; This is also code that worked previously in version 1.5.  (We are using\n&gt; cantera for a class that was taught last year, so we are going through\n&gt; the many examples and problem sets again.)\n&gt;\n&gt; I&#39;m attaching a sample matlab script again.  It fails at the 83rd\n&gt; iteration of line 25 with\n&gt;\n&gt; ************************************************\n&gt;                 Cantera Error!\n&gt; ************************************************\n&gt;\n&gt;\n&gt; Procedure: tpx::Substance::update_sat\n&gt; Error:   wrong root found for sat. liquid or vapor at P = 2.2089e+007\n&gt;\n&gt; Error in ==&gt; @ThermoPhase&#92;private&#92;thermo_set at 5\n&gt;   i = ctmethods(20,n,-job,a);\n&gt;\n&gt; Error in ==&gt; ThermoPhase.setState_SP at 15\n&gt; thermo_set(a.tp_id,23,sp);\n&gt;\n&gt; Error in ==&gt; Solution.set at 166\n&gt;     setState_SP(a,[sval,pval]);\n&gt;\n&gt; Error in ==&gt; flakey_setPS at 25\n&gt;     set(W,&#39;P&#39;,Parray12(n),&#39;S&#39;,State_7_1.s);\n&gt;\n&gt;\n&gt; Any ideas are appreciated!\n&gt; Thanks,\n&gt; Rebecca\n&gt;\n&gt; -------------------------- flakey_SetPS.m begin\n&gt; ------------------------------------------\n&gt; close all\n&gt; clear all\n&gt;\n&gt; Pmin = 100000;\n&gt; Pmax = 260*100000;\n&gt; Tmin = 320;\n&gt; Tmax = 845;\n&gt;\n&gt; W = importPhase(&#39;liquidvapor.xml&#39;,&#39;water&#39;);\n&gt;\n&gt; disp(&#39;state 7.1&#39;);\n&gt; set(W,&#39;T&#39;,Tmin,&#39;P&#39;,Pmin);\n&gt; State_7_1.P = pressure(W);\n&gt; State_7_1.s = entropy_mass(W);\n&gt;\n&gt; disp(&#39;state 7.2&#39;);\n&gt; set(W,&#39;P&#39;,Pmax,&#39;S&#39;,State_7_1.s);\n&gt; State_7_2.P = pressure(W);\n&gt; State_7_2.s = entropy_mass(W);\n&gt;\n&gt; Parray12 = linspace(State_7_1.P,State_7_2.P,100);\n&gt;\n&gt; for n = 1:length(Parray12)\n&gt;     disp( sprintf(&#39;%s %d  %s %d &#39;,&#39;n: &#39;, n, &#39; P &#39;,Parray12(n) ) );\n&gt;     set(W,&#39;P&#39;,Parray12(n),&#39;S&#39;,State_7_1.s);\n&gt;\n&gt; end\n&gt;\n&gt; -------------------------- flakey_SetPS.m end\n&gt; ------------------------------------------\n&gt; David Goodwin wrote:\n&gt;\n&gt;&gt; Rebecca,\n&gt;&gt;\n&gt;&gt; There was a problem with ext/tpx/Sub.cpp that I have now fixed. The\n&gt;&gt; problem was created when I put in a seemingly-reasonable error check,\n&gt;&gt; that had the side effect of causing the error you found whenever\n&gt;&gt; setting a state within the vapor dome, starting with one with a\n&gt;&gt; temperature greater than Tcrit.  The problem is solved by adding one\n&gt;&gt; line in method &#39;Tsat&#39;. I have now done this, and updated the CVS\n&gt;&gt; repository.  Your m-file should run now.\n&gt;&gt;\n&gt;&gt;  Dave\n&gt;&gt;\n&gt;&gt;\n&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n"}}