{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"David Goodwin","from":"David Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"ovwh2VCZ4P02qgo-Z2LdHRzP0Eo8_qEZmdGx8vkyzk-ForgQW3wmB_IfHkB7dPpwbCNL3faB4ytnFzz_xn0hKev5qmNr_2-_cSF8","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [cantera] Some more questions","postDate":"1068728239","msgId":237,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEVBODI5NTc0LTE1RDgtMTFEOC1CMzhFLTAwMDM5M0QyRDFBRUBjYWx0ZWNoLmVkdT4=","inReplyToHeader":"PGJvcmJpZytubDlnQGVHcm91cHMuY29tPg==","referencesHeader":"PGJvcmJpZytubDlnQGVHcm91cHMuY29tPg=="},"prevInTopic":234,"nextInTopic":0,"prevInTime":236,"nextInTime":238,"topicId":229,"numMessagesInTopic":6,"msgSnippet":"See comments below - ... I bet that the problem is the declaration of the function data type in Fortran. You need to add to your Fortran code: integer","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 34520 invoked from network); 13 Nov 2003 12:57:20 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m2.grp.scd.yahoo.com with QMQP; 13 Nov 2003 12:57:20 -0000\r\nReceived: from unknown (HELO steelemr-loadb-nat-49.caltech.edu) (131.215.49.69)\n  by mta5.grp.scd.yahoo.com with SMTP; 13 Nov 2003 12:57:19 -0000\r\nReceived: from water-dog (water-dog [192.168.1.26])\n\tby earth-ox-postvirus (Postfix) with ESMTP id 3D613109A7D\n\tfor &lt;cantera@yahoogroups.com&gt;; Thu, 13 Nov 2003 04:57:19 -0800 (PST)\r\nReceived: from water-ox ([192.168.1.10])\n\tby water-dog (MailMonitor for SMTP v1.2.2 ) ;\n\tThu, 13 Nov 2003 04:57:18 -0800 (PST)\r\nReceived: from [131.215.182.72] (charter-182-72.caltech.edu [131.215.182.72])\n\tby water-ox.its.caltech.edu (Postfix) with ESMTP id D425226AC14\n\tfor &lt;cantera@yahoogroups.com&gt;; Thu, 13 Nov 2003 04:57:17 -0800 (PST)\r\nMime-Version: 1.0 (Apple Message framework v606)\r\nIn-Reply-To: &lt;borbig+nl9g@...&gt;\r\nReferences: &lt;borbig+nl9g@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;EA829574-15D8-11D8-B38E-000393D2D1AE@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nSubject: Re: [cantera] Some more questions\r\nDate: Thu, 13 Nov 2003 04:57:19 -0800\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.606)\r\nX-Spam-Status: No, hits=0.0 tagged_above=-100000.0 required=5.0 \r\nX-Spam-Level: \r\nFrom: David Goodwin &lt;dgoodwin@...&gt;\r\nX-Yahoo-Group-Post: member; u=44728387\r\nX-Yahoo-Profile: dggoodwin\r\n\r\nSee comments below -\n\n\nOn Nov 11, 2003, at 10:59 AM, gwangdeung wrote:\n\n&gt; Dear Dr. Goodwin:\n&gt;\n&gt; Thank you for your answer. Please let me ask you a couple of more\n&gt; questions.\n&gt;\n&gt; 1. The code now compiles well. But two functions return weird values.\n&gt; One is speciesIndex() which returns -2147483648 for every spcies when\n&gt; it should return an integer between 1 and 109. The other one is\n&gt; meanMolecularWeight() which returns something like 137887672. when it\n&gt; should return about 25. Do you have any idea about these things?\n\nI bet that the problem is the declaration of the function data type in  \nFortran. You need to add to your Fortran code:\n\ninteger speciesIndex\ndouble precision meanMolecularWeight\n\n\n&gt; 2. I&#39;m going to model soot formation in a premixed flame. I&#39;m\n&gt; wondering if &quot;Burner stabilized and axisymmetric stagnation\n&gt; point-flame&quot; is the same as &quot;1-dimensional premixed flame&quot; which is\n&gt; frequently studied in the literature. Do you have any manual for this\n&gt; flame?\nNo manual yet,  A burner-stabilized flame is a 1-dimensional premixed  \nflame. An axisymmetric stagnation-point flame is stabilized at the  \nstagnation point on a surface.\n\n&gt; The URL for &quot;Documented Python Code&quot; in\n&gt; http://rayleigh.cds.caltech.edu/~goodwin/cantera/documentation.html\n&gt; does not work.\nYou can create the same thing for yourself. Just type &#39;python -g&#39; at  \nthe command prompt, or on Windows select Module Documentation from the  \nStart menu under &#39;Python&#39;.\nSelect &#39;Open Browser&#39; and then &#39;Cantera&#39;.\n\n&gt; In addition, do you have any plan to make a Fortran\n&gt; version of that code?\nNo. The flame code makes use of various C++ classes that would be hard  \nto translate into Fortran.\n\n&gt;\n&gt; Thanks in advance.\n&gt;\n&gt;\n&gt; --- In cantera@yahoogroups.com, David Goodwin &lt;dgoodwin@c...&gt; wrote:\n&gt;&gt; The problem seems to be capitalization: you are writing\n&gt;&gt; _gas-&gt;SpeciesIndex, when it should be _gas-&gt;speciesIndex.\n&gt;&gt;\n&gt;&gt; The convention followed throughout Cantera is that function and method\n&gt;&gt; names always begin with a lower-case letter, and then after that new\n&gt;&gt; words are capitalized, for example &quot;getPropertyValue&quot;, not\n&gt;&gt; &quot;GetPropertyValue&quot;.  The names of constants, on the other hand, do\n&gt;&gt; begin with a capital letter (&quot;OneAtm&quot;).\n&gt;&gt;\n&gt;&gt; Hope this solves the problem.\n&gt;&gt;\n&gt;&gt;\n&gt;&gt; On Nov 8, 2003, at 10:15 AM, gwangdeung wrote:\n&gt;&gt;\n&gt;&gt;&gt; Thanks so much Dr. Goodwin for your kind response. The subroutine\n&gt;&gt;&gt; getMolecularWeights() now works. But SpeciesIndex() still does not\n&gt;&gt;&gt; work. As you recommended, I deleted the underbar after SpeciesIndex  \n&gt;&gt;&gt; in\n&gt;&gt;&gt; pyrol_ftnlib.cpp (it was a stupid mistake..), but I still got the\n&gt;&gt;&gt; following error message:\n&gt;&gt;&gt;\n&gt;&gt;&gt; pyrol_ftnlib.cpp: In function &#39;interger speciesindex_ (char *, int)&#39;:\n&gt;&gt;&gt; pyrol_ftnlib.cpp:321: no matching function for call to\n&gt;&gt;&gt; &#39;Cantera::IdealGasMix::SpeciesIndex (string)&#39;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Could you please look into it again and answer me? Thanks in advance.\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; --- In cantera@yahoogroups.com, David Goodwin &lt;dgoodwin@c...&gt; wrote:\n&gt;&gt;&gt;&gt; This should work:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; void getmolecularweights_(doublereal* molwts) {\n&gt;&gt;&gt;&gt;       int nsp = _gas-&gt;nSpecies();\n&gt;&gt;&gt;&gt;      _gas-&gt;getMolecularWeights(nsp, molwts);\n&gt;&gt;&gt;&gt; }\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; The need to pass the number of species to method getMolecularWeights\n&gt;&gt;&gt; is\n&gt;&gt;&gt;&gt; inconsistent with other Cantera methods, and will be changed in a\n&gt;&gt;&gt;&gt; future version. But for version 1.5 this will work.\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; For your SpeciesIndex subroutine, it should be\n&gt;&gt;&gt;&gt; _gas-&gt;speciesIndex(string(X, lenx))\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; Dave\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; On Nov 7, 2003, at 8:57 PM, gwangdeung wrote:\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; I&#39;m just starting to use Cantera. Until now, I&#39;ve been working\n&gt;&gt;&gt;&gt;&gt; Fortran77 and Chemkin. As an excercise, I converted my old  \n&gt;&gt;&gt;&gt;&gt; Fortran77\n&gt;&gt;&gt;&gt;&gt; code (pyrol.f) so that it now calls subprograms of Cantera\n&gt; instead of\n&gt;&gt;&gt;&gt;&gt; those of Chemkin. But three of the subprograms (getMolecularWeights\n&gt;&gt;&gt;&gt;&gt; (), SpeciesIndex() and getEnthalpy_RT()) called in pyrol.f are not\n&gt;&gt;&gt;&gt;&gt; explained in the manual f77.pdf. I found them in another manual\n&gt;&gt;&gt;&gt;&gt; (cantera12_f90.pdf), but it doesn&#39;t tell me how to include them in\n&gt;&gt;&gt;&gt;&gt; Fortran77-Cantera interface file (pyrol_ftnlib.cpp). I just made a\n&gt;&gt;&gt;&gt;&gt; guess to add them in cpp file, based on usage of other subprograms\n&gt;&gt;&gt;&gt;&gt; included in the manual, and I tried to compile them, but it failed\n&gt;&gt;&gt;&gt;&gt; with error messages related to those subprograms: Actually, I  \n&gt;&gt;&gt;&gt;&gt; didn&#39;t\n&gt;&gt;&gt;&gt;&gt; see any error message on one of them, getEnthalpy_RT(), so this one\n&gt;&gt;&gt;&gt;&gt; may be correct.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Could you please see the following, which is parts of pyrol.f and\n&gt;&gt;&gt;&gt;&gt; pyrol_ftnlib.cpp, and tell me how I should revise it? Thanks in\n&gt;&gt;&gt;&gt;&gt; advance.\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; c Fortran77 commands in  pyrol.f\n&gt;&gt;&gt;&gt;&gt;       DIMENSION x(10),y(10)\n&gt;&gt;&gt;&gt;&gt;       parameter (nwt=101,nh=201)\n&gt;&gt;&gt;&gt;&gt;       call getMolecularWeights(x)\n&gt;&gt;&gt;&gt;&gt;       ic2h2=SpeciesIndex(&#39;C2H2&#39;)\n&gt;&gt;&gt;&gt;&gt;       call getEnthalpy_RT(y)\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; // C++ commands in  pyrol_ftnlib.cpp\n&gt;&gt;&gt;&gt;&gt;     void getmolecularweights_(doublereal* molwts) {\n&gt;&gt;&gt;&gt;&gt;         _gas-&gt;getMolecularWeights(molwts);\n&gt;&gt;&gt;&gt;&gt;     }\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;     integer speciesindex_(char* X, ftnlen lenx) {\n&gt;&gt;&gt;&gt;&gt;         return _gas-&gt;SpeciesIndex_(string(X, lenx));\n&gt;&gt;&gt;&gt;&gt;     }\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;     void getenthalpy_rt_(doublereal* x) {\n&gt;&gt;&gt;&gt;&gt;         _gas-&gt;getEnthalpy_RT(x);\n&gt;&gt;&gt;&gt;&gt;     }\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; ------------------------ Yahoo! Groups Sponsor\n&gt;&gt;&gt;&gt;&gt; ---------------------~--&gt;\n&gt;&gt;&gt;&gt;&gt; Buy Ink Cartridges or Refill Kits for your HP, Epson, Canon or\n&gt;&gt;&gt;&gt;&gt; Lexmark\n&gt;&gt;&gt;&gt;&gt; Printer at MyInks.com. Free s/h on orders $50 or more to the US &\n&gt;&gt;&gt;&gt;&gt; Canada.\n&gt;&gt;&gt;&gt;&gt; http://www.c1tracking.com/l.asp?cid=5511\n&gt;&gt;&gt;&gt;&gt; http://us.click.yahoo.com/mOAaAA/3exGAA/qnsNAA/UGYolB/TM\n&gt;&gt;&gt;&gt;&gt;\n&gt; ---------------------------------------------------------------------\n&gt;&gt;&gt;&gt;&gt; ~-&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; To unsubscribe from this group, send an email to:\n&gt;&gt;&gt;&gt;&gt; cantera-unsubscribe@egroups.com\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt; Your use of Yahoo! Groups is subject to\n&gt;&gt;&gt;&gt;&gt; http://docs.yahoo.com/info/terms/\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; ------------------------ Yahoo! Groups Sponsor\n&gt;&gt;&gt; ---------------------~--&gt;\n&gt;&gt;&gt; Buy Ink Cartridges or Refill Kits for your HP, Epson, Canon or  \n&gt;&gt;&gt; Lexmark\n&gt;&gt;&gt; Printer at MyInks.com. Free s/h on orders $50 or more to the US &\n&gt;&gt;&gt; Canada.\n&gt;&gt;&gt; http://www.c1tracking.com/l.asp?cid=5511\n&gt;&gt;&gt; http://us.click.yahoo.com/mOAaAA/3exGAA/qnsNAA/UGYolB/TM\n&gt;&gt;&gt; ---------------------------------------------------------------------\n&gt;&gt;&gt; ~-&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; To unsubscribe from this group, send an email to:\n&gt;&gt;&gt; cantera-unsubscribe@egroups.com\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Your use of Yahoo! Groups is subject to\n&gt;&gt;&gt; http://docs.yahoo.com/info/terms/\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;\n&gt;\n&gt;\n&gt; ------------------------ Yahoo! Groups Sponsor  \n&gt; ---------------------~--&gt;\n&gt; Buy Ink Cartridges or Refill Kits for your HP, Epson, Canon or Lexmark\n&gt; Printer at MyInks.com. Free s/h on orders $50 or more to the US &  \n&gt; Canada.\n&gt; http://www.c1tracking.com/l.asp?cid=5511\n&gt; http://us.click.yahoo.com/mOAaAA/3exGAA/qnsNAA/UGYolB/TM\n&gt; --------------------------------------------------------------------- \n&gt; ~-&gt;\n&gt;\n&gt; To unsubscribe from this group, send an email to:\n&gt; cantera-unsubscribe@egroups.com\n&gt;\n&gt;\n&gt;\n&gt; Your use of Yahoo! Groups is subject to  \n&gt; http://docs.yahoo.com/info/terms/\n&gt;\n&gt;\n&gt;\n\n\n\n"}}