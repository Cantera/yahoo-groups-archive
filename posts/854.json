{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"David Goodwin","from":"David Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"D_YI_E6iwkVGEbVV1uYOGg4Bfm-pe8AUbB2lGJ8oKYTit73ukIaDOs9uYkNoCrdonlWktp0CwV0abpfOtl_x2RKtJwDAAoYSeDkb","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Re: [cantera] Bug in 1.5.5: Problems equilibrating air at constant T,P.","postDate":"1118806031","msgId":854,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGJkZWEyMTgzOTRjYWExN2ZmYTNiNjVlZDRmYzBjMzY1QGNhbHRlY2guZWR1Pg==","inReplyToHeader":"PGQ4bm5nbytqdHVrQGVHcm91cHMuY29tPg==","referencesHeader":"PGQ4bm5nbytqdHVrQGVHcm91cHMuY29tPg=="},"prevInTopic":853,"nextInTopic":855,"prevInTime":853,"nextInTime":855,"topicId":853,"numMessagesInTopic":3,"msgSnippet":"Brooks - It would be worth doing a diff on ChemEquil.cpp in versions 1.4 and 1.5.5 to see exactly what changed.  I find too that calculations fail that used to","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 92856 invoked from network); 15 Jun 2005 03:27:37 -0000\r\nReceived: from unknown (66.218.66.166)\n  by m21.grp.scd.yahoo.com with QMQP; 15 Jun 2005 03:27:37 -0000\r\nReceived: from unknown (HELO outgoing-mail.its.caltech.edu) (131.215.239.19)\n  by mta5.grp.scd.yahoo.com with SMTP; 15 Jun 2005 03:27:37 -0000\r\nReceived: from localhost (unknown [192.168.1.7])\n\tby water-ox-postvirus (Postfix) with ESMTP id 3284E26ACB3\n\tfor &lt;cantera@yahoogroups.com&gt;; Tue, 14 Jun 2005 20:27:37 -0700 (PDT)\r\nReceived: from earth-ox ([192.168.1.9])\n\tby wood-dog (MailMonitor for SMTP v1.2.2 ) ;\n\tTue, 14 Jun 2005 20:27:35 -0700 (PDT)\r\nReceived: from [10.0.1.3] (charter-241-007.caltech.edu [131.215.241.7])\n\t(using TLSv1 with cipher RC4-SHA (128/128 bits))\n\t(No client certificate requested)\n\tby earth-ox.its.caltech.edu (Postfix) with ESMTP id F06B4109A0B\n\tfor &lt;cantera@yahoogroups.com&gt;; Tue, 14 Jun 2005 20:27:30 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v622)\r\nIn-Reply-To: &lt;d8nngo+jtuk@...&gt;\r\nReferences: &lt;d8nngo+jtuk@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nMessage-Id: &lt;bdea218394caa17ffa3b65ed4fc0c365@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Tue, 14 Jun 2005 20:27:11 -0700\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.622)\r\nX-Spam-Status: No, hits=-0.82 tagged_above=-10000 required=5\n tests=ALL_TRUSTED, CALTECH_AUTH, _FROM_CALTECH\r\nX-Spam-Level: \r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: David Goodwin &lt;dgoodwin@...&gt;\r\nSubject: Re: [cantera] Bug in 1.5.5: Problems equilibrating air at constant T,P.\r\nX-Yahoo-Group-Post: member; u=44728387; y=bpxV-7ycWDI8XysG06aCMSvEE0FWKkvryKhqz_ZGjjFO\r\nX-Yahoo-Profile: dggoodwin\r\n\r\nBrooks -\n\nIt would be worth doing a diff on ChemEquil.cpp in versions 1.4 and \n1.5.5 to see exactly what changed.  I find too that calculations fail \nthat used to work fine.  I don&#39;t remember right now what I changed in \nthis file, but there are a number of numerical parameters that can \naffect convergence.\n\nProbably the best answer is to switch to the new equilibrium solver.  \nIn version 1.5.5, this is available in Python but not MATLAB. In \nPython, you can supply an extra argument to select which solver you \nwant to use:\n\ngas.equilibrate(&#39;TP&#39;, solver = 1)   # use the new multiphase solver\n\nIn addition to working with multiple phases, it is much more stable \nthan the older ChemEquil solver. It is also a bit slower, but unless \nyou are doing equilibrium calculations inside loops you probably won&#39;t \nknow the difference.  If I manage to release version 1.6.0 this week, \nyou&#39;ll be able to use the new solver from MATLAB too.\n\nDave\n\n\nOn Jun 14, 2005, at 3:59 PM, brooksmoses1 wrote:\n\n&gt; In the calculations that we&#39;re doing, we need to create a gas that\n&gt; represents air in an equilibrium state.  Our code for this worked in\n&gt; Cantera 1.4, but now that I&#39;ve updated to Cantera 1.5.5, it&#39;s stopped\n&gt; working due to an inability of Cantera to achieve convergence.  The\n&gt; following test case illustrates the problem:\n&gt;\n&gt;  gas0 = IdealGasMix(&#39;gri30.xml&#39;);\n&gt;  X = &#39;N2:0.76,O2:0.20,H2O:0.025,CO2:0.000375,AR:0.01&#39;;\n&gt;  setMassFractions(gas0,X);\n&gt;  set(gas0,&#39;T&#39;,300,&#39;P&#39;,101325);\n&gt;  equilibrate(gas0, &#39;TP&#39;);\n&gt;\n&gt; Running this, on my systems, produces a &quot;no convergence in 1000\n&gt; iterations&quot; error.  The convergence failure is repeatable over a\n&gt; fairly wide range of adjustments to the gas concentrations; it\n&gt; appears\n&gt; that it will result from any mixture that consists of O2, H2O, and\n&gt; CO2.\n&gt;\n&gt; (Given that this testcase is reduced from code that worked with\n&gt; Cantera 1.4, I presume that it also would have worked, but I can&#39;t\n&gt; test it.)\n&gt;\n&gt; In addition, if I preceed the equilbration at constant TP with an\n&gt; equilibration at constant TV, the TV equilibration works fine, but\n&gt; the\n&gt; equilibration at constant TP still fails despite being given a\n&gt; pre-equilibrated mixture.\n&gt;\n&gt; I should also note that I suspect this may be a programming bug\n&gt; rather\n&gt; than an algorithm bug, as on about 10 percent of the runs I get\n&gt; &quot;segmentation violation&quot; errors in clib.dll, rather than a &quot;number of\n&gt; iterations exceeded&quot; error -- though this doesn&#39;t seem to be\n&gt; repeatable; the 10-percent number is based on 50 repeats of the exact\n&gt; same m-file.\n&gt;\n&gt; Does a fix exist for this yet?\n&gt;\n&gt; - Brooks\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n\n"}}