{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":32942367,"authorName":"Moffat, Harry K","from":"&quot;Moffat, Harry K&quot; &lt;hkmoffa@...&gt;","profile":"hkmoffat","replyTo":"LIST","senderId":"Alw7_dQKihgpHs1nrvN4QlvCE6WiipWEtGVtco9xBO3dp1Yh3f8g3l0-HsVUAhNPlNhduFrjLumhanJ6_8wznIKkP14Oa3aoT1Tvph8","spamInfo":{"isSpam":false,"reason":"0"},"subject":"RE: [cantera] Re: Problem with 64 bit installation","postDate":"1178029644","msgId":1612,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDNBQ0M3ODk3QTk0NjMxNDFCRTBEOTM4RkMzMURGRDE5MDJFMjgwQjFARVMyMlNOTE5ULnNybi5zYW5kaWEuZ292Pg==","inReplyToHeader":"PGYxMnN0dCs0aDFrQGVHcm91cHMuY29tPg==","referencesHeader":"PDNBQ0M3ODk3QTk0NjMxNDFCRTBEOTM4RkMzMURGRDE5MDJDRTQxN0ZARVMyMlNOTE5ULnNybi5zYW5kaWEuZ292PiA8ZjEyc3R0KzRoMWtAZUdyb3Vwcy5jb20+"},"prevInTopic":1606,"nextInTopic":1620,"prevInTime":1611,"nextInTime":1613,"topicId":1578,"numMessagesInTopic":7,"msgSnippet":"Hi Sergey, Yes, all libraries have to be compiled with the -fPIC option. For libctmath.a, this means setting the FFLAGS environmental variable to something","rawEmail":"Return-Path: &lt;hkmoffa@...&gt;\r\nX-Sender: hkmoffa@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 81477 invoked from network); 1 May 2007 14:34:27 -0000\r\nReceived: from unknown (66.218.67.36)\n  by m46.grp.scd.yahoo.com with QMQP; 1 May 2007 14:34:27 -0000\r\nReceived: from unknown (HELO sentry.sandia.gov) (132.175.109.20)\n  by mta10.grp.scd.yahoo.com with SMTP; 1 May 2007 14:34:26 -0000\r\nReceived: from [132.175.109.1] by sentry.sandia.gov with ESMTP (SMTP\n Relay 01 (Email Firewall v6.3.1)); Tue, 01 May 2007 08:27:26 -0600\r\nX-Server-Uuid: AA8306FD-23D1-4E5B-B133-B2D9F10C3631\r\nReceived: from ES23SNLNT.srn.sandia.gov (ec04snlnt.sandia.gov\n [134.253.164.156] (may be forged)) by mailgate.sandia.gov (\n 8.14.0/8.14.0) with ESMTP id l41ERPoF009508 for\n &lt;cantera@yahoogroups.com&gt;; Tue, 1 May 2007 08:27:25 -0600 (MDT)\r\nReceived: from ES22SNLNT.srn.sandia.gov ([134.253.164.158]) by\n ES23SNLNT.srn.sandia.gov with Microsoft SMTPSVC(6.0.3790.1830); Tue, 1\n May 2007 08:27:25 -0600\r\nX-MimeOLE: Produced By Microsoft Exchange V6.5\r\nContent-class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nDate: Tue, 1 May 2007 08:27:24 -0600\r\nMessage-ID: &lt;3ACC7897A9463141BE0D938FC31DFD1902E280B1@...&gt;\r\nIn-Reply-To: &lt;f12stt+4h1k@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [cantera] Re: Problem with 64 bit installation\r\nThread-Index: AceKl97lolUTsUmjTQOPoI/Dn3KfxwBZIXKw\r\nReferences: &lt;3ACC7897A9463141BE0D938FC31DFD1902CE417F@...&gt;\n &lt;f12stt+4h1k@...&gt;\r\nTo: cantera@yahoogroups.com\r\nX-OriginalArrivalTime: 01 May 2007 14:27:25.0935 (UTC)\n FILETIME=[D70D6FF0:01C78BFC]\r\nX-TMWD-Spam-Summary: TS=20070501142727; SEV=2.2.2; DFV=B2007050106;\n IFV=2.0.4,4.0-9; AIF=B2007050106; RPD=5.02.0125; ENG=IBF;\n RPDID=7374723D303030312E30413031303230362E34363337344534442E303046422C73733D312C6667733D30;\n CAT=NONE; CON=NONE\r\nX-MMS-Spam-Filter-ID: B2007050106_5.02.0125_4.0-9\r\nX-WSS-ID: 6A2991C43RW4182012-01-01\r\nContent-Type: text/plain;\n charset=us-ascii\r\nContent-Transfer-Encoding: quoted-printable\r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: &quot;Moffat, Harry K&quot; &lt;hkmoffa@...&gt;\r\nSubject: RE: [cantera] Re: Problem with 64 bit installation\r\nX-Yahoo-Group-Post: member; u=32942367; y=hZcmFgUR9x_nmwTio3QavmWuX2r8dicC82GWnqaH52BuK_E\r\nX-Yahoo-Profile: hkmoffat\r\n\r\nHi Sergey,\n    Yes, all libraries have to be compiled with the -fPIC option=\r\n. For\nlibctmath.a, this means setting the\nFFLAGS environmental variable to =\r\nsomething like FFLAGS=3D&#39;-O -fPIC&#39; on\ninput to Cantera&#39;s preconfig script.\n=\r\n\nBest wishes,\nHarry\n\nHarry Moffat                                          =\r\n   (w) (505)\n844-6912\nMultiphase & Nanoscale Transport Division    (f)   (5=\r\n05) 844-9297\nSandia National Laboratories\nhkmoffa@...\nP. O. Box 5800=\r\n-0834\nAlbuquerque, NM 87185-0834\n\n-----Original Message-----\nFrom: cantera@=\r\nyahoogroups.com [mailto:cantera@yahoogroups.com] On Behalf\nOf scheskis\nSent=\r\n: Sunday, April 29, 2007 1:50 PM\nTo: cantera@yahoogroups.com\nSubject: [cant=\r\nera] Re: Problem with 64 bit installation\n\nHi Harry,\nI am continuing my att=\r\nempt to compile cantera for 64bit suse 10.2.\nI am using last cvs (two days =\r\nago). I found that I need to use lapack\nand blas from suse 10.2 64 bit rpm.=\r\n I recompiled also sundials with\n-fPIC flag. It allowed me to continue fath=\r\ner in compilation but after it\nI again met the following error:\n\ng++ -pthre=\r\nad -shared build/temp.linux-x86_64-2.5/src/pycantera.o\n-L/home/sergey/src/c=\r\nantera/build/lib/x86_64-unknown-linux-gnu\n-L/usr/lib64 -L/home/sergey/sundi=\r\nals/lib -L/usr/lib/python2.5/config\n-lclib -lzeroD -loneD -ltransport -lcan=\r\ntera -lconverters -lcaThermo\n-llapack -lblas -lsundials_cvodes -lsundials_n=\r\nvecserial -lctmath -ltpx\n-lctf2c -lctf2c -lm -lpython2.5 -o\nbuild/lib.linux=\r\n-x86_64-2.5/Cantera/_cantera.so\n/usr/lib64/gcc/x86_64-suse-linux/4.1.2/../.=\r\n./../../x86_64-suse-linux/bin\n/ld:\n/home/sergey/src/cantera/build/lib/x86_6=\r\n4-unknown-linux-gnu/libctmath.a(\ndpcoef.o):\nrelocation R_X86_64_32 against =\r\n`a local symbol&#39; can not be used when\nmaking a shared object; recompile wit=\r\nh -fPIC\n/home/sergey/src/cantera/build/lib/x86_64-unknown-linux-gnu/libctma=\r\nth.a:\ncould not read symbols: Bad value\ncollect2: ld returned 1 exit status=\r\n\nsetup.py:96: DeprecationWarning: raising a string exception is\ndeprecated\n=\r\n  raise &#39;Error encountered while building or installing the Cantera\npython =\r\nmodules!&#39;\nTraceback (most recent call last):\n  File &quot;setup.py&quot;, line 96, in=\r\n &lt;module&gt;\n    raise &#39;Error encountered while building or installing the Can=\r\ntera\npython modules!&#39;\nError encountered while building or installing the Ca=\r\nntera python\nmodules!\nmake[1]: *** [_build] Error 1\nmake[1]: Leaving direct=\r\nory `/home/sergey/src/cantera/Cantera/python&#39;\nmake: *** [python] Error 2\n\nP=\r\nrobably libctmath also must be compiled with -fPIC, but how can I do\nit?\n\nT=\r\nhank you for your help.\nSergey\n\n\n\n\n\n\n\n--- In cantera@yahoogroups.com, &quot;Moff=\r\nat, Harry K&quot; &lt;hkmoffa@...&gt; wrote:\n&gt;\n&gt; Hi Sergey,\n&gt; \n&gt;   Yes, indeed it appe=\r\nars to be another bug, which only happens on a 64\n\n&gt; bit compile using the =\r\nfull python option, at least on my version of \n&gt; linux. Apparently, the com=\r\npiler is now insisting (or perhaps has \n&gt; always insisted but somehow we go=\r\nt away with it before) that all code \n&gt; being linked into a shared library =\r\nbe compiled either all with or all \n&gt; without the -fPIC option. The bug bel=\r\now is due to inconsistent \n&gt; compilations of different parts of cantera.\n&gt; =\r\n\n&gt; After fixing this issue manually, by adding -fPIC to various ext \n&gt; libr=\r\nary Makefiles, I was able to compile cantera.so_, make the entire \n&gt; canter=\r\na package, and install it. It then passed the full test suite.\n&gt; \n&gt; Note, h=\r\nowever, that to do this for the full python option, I had to \n&gt; use a 64 bi=\r\nt version of python, that I compiled myself, as the default\n\n&gt; python shipp=\r\ned with my linux os is 32 bit, and therefore would not \n&gt; work with 64 bit =\r\ncantera shared libraries. The minimal python option \n&gt; doesn&#39;t involve this=\r\n complexity, because it doesn&#39;t use compiled C++\ncode.\n&gt; \n&gt; I&#39;ll work on mo=\r\ndifying the Makefiles, to ensure that a uniform \n&gt; treatment of the -fPIC o=\r\nption is insisted upon, later today.\n&gt; \n&gt; Thanks again Sergey for pointing =\r\nthis bug out.\n&gt; \n&gt; Best wishes,\n&gt; Harry\n&gt; \n&gt; \n&gt; Harry Moffat               =\r\n                              (w) (505)\n&gt; 844-6912\n&gt; Multiphase & Nanoscale=\r\n Transport Division    (f)   (505) 844-9297\n&gt; Sandia National Laboratories\n=\r\n&gt; hkmoffa@...\n&gt; P. O. Box 5800-0834\n&gt; Albuquerque, NM 87185-0834\n&gt; \n&gt; -----=\r\nOriginal Message-----\n&gt; From: cantera@yahoogroups.com [mailto:cantera@yahoo=\r\ngroups.com] On \n&gt; Behalf Of scheskis\n&gt; Sent: Friday, April 13, 2007 12:19 A=\r\nM\n&gt; To: cantera@yahoogroups.com\n&gt; Subject: [cantera] Re: Problem with 64 bi=\r\nt installation\n&gt; \n&gt; Harry, thank you for your answer.\n&gt; I made cvs update, =\r\nbut now I received the following error:\n&gt; \n&gt; creating build/temp.linux-x86_=\r\n64-2.5/src\n&gt; g++ -fno-strict-aliasing -DNDEBUG -O2 -fmessage-length=3D0 -Wa=\r\nll\n&gt; -D_FORTIFY_SOURCE=3D2 -g -fPIC -I../../build/include -Isrc -I../clib/s=\r\nrc\n&gt; -I/usr/include/python2.5 -c src/pycantera.cpp -o \n&gt; build/temp.linux-x=\r\n86_64-2.5/src/pycantera.o\n&gt; g++ -pthread -shared build/temp.linux-x86_64-2.=\r\n5/src/pycantera.o\n&gt; -L/home/sergey/src/cantera/build/lib/x86_64-unknown-lin=\r\nux-gnu\n&gt; -L/home/sergey/src/cantera/build/lib/x86_64-unknown-linux-gnu\n&gt; -L=\r\n/home/sergey/sundials/lib -L/usr/lib/python2.5/config -lclib -lzeroD\n\n&gt; -lo=\r\nneD -ltransport -lcantera -lconverters -lcaThermo -lctlapack \n&gt; -lctblas -l=\r\nsundials_cvodes -lsundials_nvecserial -lctmath -ltpx \n&gt; -lctf2c -lctf2c -lm=\r\n -lpython2.5 -o \n&gt; build/lib.linux-x86_64-2.5/Cantera/_cantera.so\n&gt; /usr/li=\r\nb64/gcc/x86_64-suse-linux/4.1.2/../../../../x86_64-suse-linux/b\n&gt; in\n&gt; /ld:=\r\n\n&gt; /home/sergey/src/cantera/build/lib/x86_64-unknown-linux-gnu/libzeroD.a\n&gt;=\r\n (R\n&gt; eactor.o):\n&gt; relocation R_X86_64_32 against `a local symbol&#39; can not =\r\nbe used when \n&gt; making a shared object; recompile with -fPIC\n&gt;\n/home/sergey=\r\n/src/cantera/build/lib/x86_64-unknown-linux-gnu/libzeroD.a:\n&gt; could not rea=\r\nd symbols: Bad value\n&gt; collect2: ld returned 1 exit status\n&gt; setup.py:96: D=\r\neprecationWarning: raising a string exception is \n&gt; deprecated\n&gt;   raise &#39;E=\r\nrror encountered while building or installing the Cantera \n&gt; python modules=\r\n!&#39;\n&gt; Traceback (most recent call last):\n&gt;   File &quot;setup.py&quot;, line 96, in &lt;m=\r\nodule&gt;\n&gt;     raise &#39;Error encountered while building or installing the Cant=\r\nera \n&gt; python modules!&#39;\n&gt; Error encountered while building or installing th=\r\ne Cantera python \n&gt; modules!\n&gt; make[1]: *** [_build] Error 1\n&gt; make[1]: Lea=\r\nving directory `/home/sergey/src/cantera/Cantera/python&#39;\n&gt; make: *** [pytho=\r\nn] Error 2\n&gt; \n&gt; Another bug?\n&gt; I appreciate very much your comment.\n&gt; Regar=\r\nds\n&gt; Sergey\n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; \n&gt; --- In cantera@yahoogroup=\r\ns.com, &quot;Moffat, Harry K&quot; &lt;hkmoffa@&gt; wrote:\n&gt; &gt;\n&gt; &gt; Hi Sergey,\n&gt; &gt;   \n&gt; &gt;   =\r\n The error you describe was from a bug in Cantera. I fixed it \n&gt; &gt; yesterda=\r\ny in the CVS distribution. A new cvs checkout should fix the\n\n&gt; &gt; problem.\n=\r\n&gt; &gt; \n&gt; &gt; Best wishes,\n&gt; &gt; Harry\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; Harry Moffat                 =\r\n                            (w) (505)\n&gt; &gt; 844-6912\n&gt; &gt; Multiphase & Nanosca=\r\nle Transport Division    (f)   (505) 844-9297\n&gt; &gt; Sandia National Laborator=\r\nies\n&gt; &gt; hkmoffa@\n&gt; &gt; P. O. Box 5800-0834\n&gt; &gt; Albuquerque, NM 87185-0834\n&gt; &gt;=\r\n \n&gt; &gt; -----Original Message-----\n&gt; &gt; From: cantera@yahoogroups.com [mailto:=\r\ncantera@yahoogroups.com] On \n&gt; &gt; Behalf Of scheskis\n&gt; &gt; Sent: Wednesday, Ap=\r\nril 11, 2007 12:22 PM\n&gt; &gt; To: cantera@yahoogroups.com\n&gt; &gt; Subject: [cantera=\r\n] Problem with 64 bit installation\n&gt; &gt; \n&gt; &gt; I have install cantera 1.7 on S=\r\nUSE 10.2 without problems on 32 bit \n&gt; &gt; computer, but with 64 bit version =\r\nI received the following error \n&gt; &gt; using\n&gt; &gt; make:\n&gt; &gt; \n&gt; &gt; g++ -O -pthrea=\r\nd -shared\n&gt; &gt; -Wl,--version-script,/usr/local/matlab_r2006b/extern/lib/glnx=\r\na64/mex\n&gt; &gt; Fu\n&gt; &gt; nc\n&gt; &gt; tion.map\n&gt; &gt; -o ctmethods.mexa64  ctmethods.o ctf=\r\nunctions.o xmlmethods.o \n&gt; &gt; phasemethods.o thermomethods.o kineticsmethods=\r\n.o mixturemethods.o \n&gt; &gt; transportmethods.o reactormethods.o reactornetmeth=\r\nods.o \n&gt; &gt; wallmethods.o flowdevicemethods.o funcmethods.o onedimmethods.o =\r\n\n&gt; &gt; surfmethods.o mexversion.o \n&gt; &gt; -L/home/sergey/src/cantera/build/lib/x=\r\n86_64-unknown-linux-gnu\n&gt; &gt; -L/home/sergey/src/cantera/build/lib/x86_64-unk=\r\nnown-linux-gnu\n&gt; &gt; -L/home/sergey/sundials/lib -lclib -luser -loneD -lzeroD=\r\n -lcaThermo \n&gt; &gt; -ltransport -lcantera -lsundials_cvodes -lsundials_nvecser=\r\nial \n&gt; &gt; -lctlapack -lctblas -lctmath -ltpx -lctf2c -lconverters\n&gt; &gt; -Wl,-r=\r\npath-link,/usr/local/matlab_r2006b/bin/glnxa64\n&gt; &gt; -L/usr/local/matlab_r200=\r\n6b/bin/glnxa64 -lmx -lmex -lmat -lm\n&gt; &gt; \n&gt; &gt; /home/sergey/src/cantera/build=\r\n/lib/x86_64-unknown-linux-gnu/libclib.\n&gt; &gt; a(\n&gt; &gt; ct\n&gt; &gt; func.o):(.bss+0x0)=\r\n:\n&gt; &gt; multiple definition of `Cabinet&lt;Cantera::Func1&gt;::__storage&#39;\n&gt; &gt; /home=\r\n/sergey/src/cantera/build/lib/x86_64-unknown-linux-gnu/libclib.\n&gt; &gt; a(\n&gt; &gt; =\r\nct\n&gt; &gt; reactor.o):(.bss+0x20):\n&gt; &gt; first defined here\n&gt; &gt; /home/sergey/src/=\r\ncantera/build/lib/x86_64-unknown-linux-gnu/libclib.\n&gt; &gt; a(\n&gt; &gt; ct\n&gt; &gt; xml.o=\r\n):(.bss+0x0):\n&gt; &gt; multiple definition of `Cabinet&lt;Cantera::XML_Node&gt;::__sto=\r\nrage&#39;\n&gt; &gt; /home/sergey/src/cantera/build/lib/x86_64-unknown-linux-gnu/libcl=\r\nib.\n&gt; &gt; a(\n&gt; &gt; ct\n&gt; &gt; .o):(.bss+0x0):\n&gt; &gt; first defined here\n&gt; &gt; /usr/lib64=\r\n/gcc/x86_64-suse-linux/4.1.2/../../../../x86_64-suse-linux\n&gt; &gt; /b\n&gt; &gt; in\n&gt; =\r\n&gt; /ld:\n&gt; &gt; /home/sergey/src/cantera/build/lib/x86_64-unknown-linux-gnu/libo=\r\nneD.\n&gt; &gt; a(\n&gt; &gt; On\n&gt; &gt; eDim.o):\n&gt; &gt; relocation R_X86_64_32 against `a local=\r\n symbol&#39; can not be used when\n\n&gt; &gt; making a shared object; recompile with -=\r\nfPIC\n&gt; &gt;\n/home/sergey/src/cantera/build/lib/x86_64-unknown-linux-gnu/libone=\r\nD.a:\n&gt; &gt; could not read symbols: Bad value\n&gt; &gt; collect2: ld returned 1 exit=\r\n status\n&gt; &gt; \n&gt; &gt;     mex: link of &#39;ctmethods.mexa64&#39; failed.\n&gt; &gt; \n&gt; &gt; ??? E=\r\nrror using =3D=3D&gt; mex\n&gt; &gt; Unable to complete successfully.\n&gt; &gt; \n&gt; &gt; Error =\r\nin =3D=3D&gt; buildux at 3\n&gt; &gt; mex -cxx -v private/ctmethods.cpp private/ctfun=\r\nctions.cpp ...\n&gt; &gt; \n&gt; &gt; Error in =3D=3D&gt; setup at 2\n&gt; &gt; buildux\n&gt; &gt; \n&gt; &gt; I =\r\nwould appreciate very much any help.\n&gt; &gt; \n&gt; &gt; Sergey Cheskis\n&gt; &gt; \n&gt; &gt; \n&gt; &gt; =\r\n\n&gt; &gt;  \n&gt; &gt; Yahoo! Groups Links\n&gt; &gt;\n&gt; \n&gt; \n&gt; \n&gt; \n&gt;  \n&gt; Yahoo! Groups Links\n&gt;\n=\r\n\n\n\n\n \nYahoo! Groups Links\n\n\n\n\n\n\n"}}