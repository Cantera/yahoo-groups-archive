{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":70936284,"authorName":"Bergthorson, Jeffrey M.","from":"&quot;Bergthorson, Jeffrey M.&quot; &lt;jeffb@...&gt;","replyTo":"LIST","senderId":"obe_o3M4NN2-JkJJ2m7nOlVeS4juSMSR_PrL2ou92Wrf3IOT3Afh1dC7GgAmo-vKbNo8RqzEpJ46tOfPX2pUualadGIdUtyYNs04rf1IUFJbvSUbczYhx2fbpg","spamInfo":{"isSpam":false,"reason":"12"},"subject":"RE: [cantera] Adiabatic flame demo in Python","postDate":"1123095053","msgId":952,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDEzMkNDMTIzRENCODhBNEQ4QkExQURBRDI1MEUyNjRGMkFGRERFQG9seW1wb3MxLnR5cnZvcy5jYWx0ZWNoLmVkdT4="},"prevInTopic":0,"nextInTopic":0,"prevInTime":949,"nextInTime":953,"topicId":952,"numMessagesInTopic":1,"msgSnippet":"Jeff, I have not simulated many flames with the freely propagating flame code, but have used the stagnation code a lot.  Time integration problems arose for me","rawEmail":"Return-Path: &lt;jeffb@...&gt;\r\nX-Sender: jeffb@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 92815 invoked from network); 3 Aug 2005 18:50:54 -0000\r\nReceived: from unknown (66.218.66.217)\n  by m15.grp.scd.yahoo.com with QMQP; 3 Aug 2005 18:50:54 -0000\r\nReceived: from unknown (HELO olympos1.tyrvos.caltech.edu) (131.215.97.9)\n  by mta2.grp.scd.yahoo.com with SMTP; 3 Aug 2005 18:50:54 -0000\r\nContent-Class: urn:content-classes:message\r\nMIME-Version: 1.0\r\nContent-Type: text/plain;\n\tcharset=&quot;US-ASCII&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0\r\nDate: Wed, 3 Aug 2005 11:50:53 -0700\r\nMessage-ID: &lt;132CC123DCB88A4D8BA1ADAD250E264F2AFDDE@...&gt;\r\nX-MS-Has-Attach: \r\nX-MS-TNEF-Correlator: \r\nThread-Topic: [cantera] Adiabatic flame demo in Python\r\nThread-Index: AcWYTXC8pI6iDsSnSR+uh6ZWkKCQKwADP3mA\r\nTo: &lt;cantera@yahoogroups.com&gt;\r\nX-eGroups-Msg-Info: 1:12:0\r\nFrom: &quot;Bergthorson, Jeffrey M.&quot; &lt;jeffb@...&gt;\r\nSubject: RE: [cantera] Adiabatic flame demo in Python\r\nX-Yahoo-Group-Post: member; u=70936284\r\n\r\nJeff,\n\nI have not simulated many flames with the freely propagating flame c=\r\node,\nbut have used the stagnation code a lot.  Time integration problems\nar=\r\nose for me fairly often, and the fix is not always intuitive.  You may\nneed=\r\n to adjust the time stepping tolerances, the size of the initial\ntime step,=\r\n the number of time steps to take before trying to use the\nNewton solver, e=\r\ntc.  Also, the initial guess was important in my\napplication and I changed =\r\nStagnationFlow.py to allow more flexibility in\nplacing the flame front in t=\r\nhe initial &quot;guess&quot;.  You also may want to\nsolve without the energy equation=\r\n until you get 30 or so gridpoints,\nthen turn the energy equation on.  Use =\r\nof the mixture-averaged transport\nuntil you have the right number of gridpo=\r\nints and then turning on the\nmulticomponent transport is also a good idea. =\r\n One other thing that I\nsuggest is making the initial grid uniform, and set=\r\nting ratio=3D3 and\ncurve=3D0.8.  Then, adjust the slope parameter to get th=\r\ne right number of\ngridpoints.  Choosing slope=3D1 should allow you to solve=\r\n the flame on a\nsmall grid and will check that everything is working (inclu=\r\nding the\noutput, etc.).  Then by reducing the slope parameter you can refin=\r\ne\nfurther and determine when the solver fails.\n\nWhat chemistry model are yo=\r\nu utilizing? GRI-Mech 3.0?  I have found that\nsome chemistry models converg=\r\ne better than others.\n\nAlso, I would suggest simply writing the output of t=\r\nhese simulations to\ncsv files and then using matlab to read them in and plo=\r\nt the results,\nrather than trying to interface python with Matlab.\n\nPlease =\r\nfeel free to email me offline for more assistance\n(jeffb@...=\r\n).\n\nGood luck,\nJeff Bergthorson\nCaltech Aeronautics\n\n-----Original Message-=\r\n----\nFrom: cantera@yahoogroups.com [mailto:cantera@yahoogroups.com] On Beha=\r\nlf\nOf jemiller@...\nSent: Wednesday, August 03, 2005 10:05 AM\nTo: cant=\r\nera@yahoogroups.com\nSubject: [cantera] Adiabatic flame demo in Python\n\nDr. =\r\nGoodwin,\nI can&#39;t get the freely propagating flame demo to work.  It runs fo=\r\nr\nabout 20-30 minutes, and then gives the following error:\n\nTraceback (most=\r\n recent call last):\n  File &quot;C:&#92;Program\nFiles&#92;Cantera&#92;demos&#92;Python&#92;flames&#92;ad=\r\niabatic_flame.py&quot;, line 71, in\n-toplevel-\n    f.solve(loglevel, refine_grid=\r\n)\n  File &quot;C:&#92;Python24&#92;Lib&#92;site-packages&#92;Cantera&#92;OneD&#92;FreeFlame.py&quot;, line\n73=\r\n, in solve\n    Stack.solve(self, loglevel =3D loglevel, refine_grid =3D ref=\r\nine_grid)\n  File &quot;C:&#92;Python24&#92;Lib&#92;site-packages&#92;Cantera&#92;OneD&#92;onedim.py&quot;, li=\r\nne 557,\nin solve\n    return _cantera.sim1D_solve(self._hndl, loglevel, refi=\r\nne_grid)\nerror: \n\n************************************************\n        =\r\n        Cantera Error!                  \n**********************************=\r\n**************\n\n\nProcedure: OneDim::timeStep\nError:   Time integration fail=\r\ned.\n\n\nIt seems to be adding a lot of points at the beginning of the grid, s=\r\no\nwe thought that it might help to increase the mass flow rate so that the\n=\r\npoints were added later in the grid, but it didn&#39;t work.  We also tried\nloo=\r\nsening the tolerance.  These are the only two things that we have\nchanged. =\r\n Is this demo supposed to work without modifying it?  If so,\ncould there be=\r\n a problem with the operating system (XP home with plenty\nof RAM)?  \n\nOne m=\r\nore thing I wanted to ask you is about plotting from Python.  You\nmay have =\r\nseen my query on the users group and the response I received\nfrom E David H=\r\nuckaby.  In the reactor demo, he told me to replace &quot;from\nmatplotlib.matlab=\r\n import*&quot; with &quot;from pylab import*&quot;.  I tried this, but\nit had no effect.  =\r\nThe message saying to rerun the script with the\n&quot;-plot&quot; option comes up.  H=\r\now and where do I use the &quot;-plot&quot; option?  Do\nyou have any other suggestion=\r\ns of how to get Python to plot?\n\nThank you for being patient with me and fo=\r\nr giving me so much help.\nCantera, along with your guidance, has greatly ac=\r\ncelerated my research\nthis summer.  \n\nSincerely,\nJeff Miller\nCSM \n\n\n \nYahoo=\r\n! Groups Links\n\n\n\n \n\n\n\n\n\n\n"}}