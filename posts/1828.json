{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":228646714,"authorName":"Bhupinder Singh","from":"Bhupinder Singh &lt;bsingh@...&gt;","profile":"bhupindersingh_99","replyTo":"LIST","senderId":"4lJ0bsCs4H_N3nTSNe_SSYB6Bcwf8L1pdpQXAXJT3rndJF7mMtLmZAaWWQuvplX4-L5EnaJZSLuDF1Cqa3gjhI0ewS1yhok","spamInfo":{"isSpam":false,"reason":"12"},"subject":"Convergence problem in setState_UV","postDate":"1201636854","msgId":1828,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PDg0MDIzMzgzNy4xNzYwNDEyMDE2MzY4NTQ5NjcuSmF2YU1haWwub3NnQG9zZ2phczAyLmNucy51ZmwuZWR1Pg=="},"prevInTopic":0,"nextInTopic":1829,"prevInTime":1827,"nextInTime":1829,"topicId":1828,"numMessagesInTopic":3,"msgSnippet":"Hey everyone, I m trying to resolve a convergence error problem. ... 1. I need to solve a system of equations parallel with the zero dim. reactor model such","rawEmail":"Return-Path: &lt;bsingh@...&gt;\r\nX-Sender: bsingh@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nX-Received: (qmail 1223 invoked from network); 29 Jan 2008 20:00:57 -0000\r\nX-Received: from unknown (66.218.67.95)\n  by m50.grp.scd.yahoo.com with QMQP; 29 Jan 2008 20:00:57 -0000\r\nX-Received: from unknown (HELO smtp.ufl.edu) (128.227.74.165)\n  by mta16.grp.scd.yahoo.com with SMTP; 29 Jan 2008 20:00:56 -0000\r\nX-Received: from osgjas02.cns.ufl.edu (osgjas02.cns.ufl.edu [128.227.74.132])\n\tby smtp.ufl.edu (8.13.7/8.13.7/2.5.9) with ESMTP id m0TK0sII426104\n\tfor &lt;cantera@yahoogroups.com&gt;; Tue, 29 Jan 2008 15:00:55 -0500\r\nMessage-ID: &lt;840233837.176041201636854967.JavaMail.osg@...&gt;\r\nDate: Tue, 29 Jan 2008 15:00:54 -0500 (EST)\r\nTo: cantera@yahoogroups.com\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; format=flowed; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\nX-Mailer: GatorMail WebMail (http://GatorMail.sf.net/)\r\nX-Greylist: Sender IP whitelisted, not delayed by milter-greylist-3.0rc3 (smtp.ufl.edu [128.227.74.56]); Tue, 29 Jan 2008 15:00:56 -0500 (EST)\r\nX-Spam-Status: hits=-1.44, required=5, tests=ALL_TRUSTED\r\nX-UFL-Spam-Status: hits=-1.44, required=5, tests=ALL_TRUSTED\r\nX-Scanned-By: CNS Open Systems Group (http://open-systems.ufl.edu/services/smtp-relay/)\r\nX-UFL-Scanned-By: CNS Open Systems Group (http://open-systems.ufl.edu/services/smtp-relay/)\r\nX-eGroups-Msg-Info: 1:12:0:0:0\r\nFrom: Bhupinder Singh &lt;bsingh@...&gt;\r\nSubject: Convergence problem in setState_UV\r\nX-Yahoo-Group-Post: member; u=228646714; y=_lWz2f_JCfngfxlNlxx4UPaAQQaAnMt6HxHjuMXe-T2Pyeb4UGhkI8Q0XBQ\r\nX-Yahoo-Profile: bhupindersingh_99\r\n\r\nHey everyone,\n\nI&#39;m trying to resolve a convergence error problem.\n\nHere&#39;s what I&#39;m trying to do:\n-----------------------------\n\n1. I need to solve a system of equations parallel with the zero \ndim. reactor model such that,\nI need to correct for some of the species production terms at \neverytime step, and solve for additional\nset of variables M0 throuh M5 (y terms) and Q0 through Q5 (ydot \nterms)\n\n2. I created a new class derived from the &quot;Reactor&quot; class and \nreimplemented the virtual methods\n        in the original class.\n\n3. In the methods evalEqs and UpdateState, I have inserted my \nvariables M0 through M5 in array &quot;y&quot;\nand Q0 through Q5 in array &quot;ydot&quot; at positions m_nsp+2.\n\nsince y[0] = internal energy\n     y[1] = volume\n        y[3] - y[m_nsp-1] are species mass fractions\n\nAnother parallel fortran code, that I call from within C++, gives \nme values of the variables Q&#39;s (Q0 through Q5) based on initial \nM&#39;s (M0 through M5) values, and hence gives me a new complete data \nset for y and ydot arrays. The integrator then integrates to a new \ny array (that gives me new initial conditions of M&#39;s to recompute \nQ&#39;s)\nthat I use to update my older variables in UpdateState method.\n\nI used an instance of this class in a reactor code by using\nmyclass r;\n\ninstead of\nReactor r;\n\nMy problem:\n-----------\n\nI get an error message as follows:\n\nProcedure: setState_UV\nError: no convergence. dt=nan\ntol = 1e-08\nu = nan v = 0.439382\n\nI get this message right after the first time step.\n\nMy Questions:\n-------------\n\n1. Just to begin with, my Q (ydot) terms are not even coupled to \nthe ydot[0] that is internal energy\nequations. why do I get a convergence error in u, when everything \nelse is the same.\n\n2. When I commented out the assignment lines for y and ydot, such \nthat I did create space in the array\nfor my variables, but assigned all of them values of zero, the \ncode did work for a while, but looped\nendlessly around the ignitor functor peak. I guess, that too had \nto do with convergence problem.\nIn other words, I could see solutions only until the igniter \nreservoir sent out a pulse of H atoms.\nAs soon as the temperature pulse began to be sensed in the \nsolution, each time-step calculation\nbecame extremely slow.\n\n3. The only other way I could get this code to work, is to leave \nthe original y and ydot arrays\nas they were and create another integrator, y and ydot arrays to \nsolve for my M variables. This might be\nway too inefficient, I think. I don&#39;t quite see why the approach I \ntook isn&#39;t working! Would this alternate\napproach be a better way of handling the problem?\n\nI can&#39;t seem to resolve this problem, and need help with it.\n\nAny help would be appreciated. Please let me know, if the \ninformation provided doesn&#39;t seem adequate or\nif any further clarifications are necessary.\n\n\nRegards,\n\nBhupinder\n\n--\nBhupinder Singh\nDepartment of Mechanical and Aerospace Engineering\nUniversity of Florida\nGainesville\n\nPh: 352-392-4442 (O)\n    352-328-4486 (Cell)\n\n\n\n"}}