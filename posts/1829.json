{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":310228072,"authorName":"avmokhov","from":"&quot;avmokhov&quot; &lt;avmokhov@...&gt;","profile":"avmokhov","replyTo":"LIST","senderId":"CvVPJ3YDmAoPCXDcCo9a4POn3rjyvnn4gO7FQd9i5I0V8jifk0mYp0b6yznoipElsx-DtTC5vpOsUS5NVoZvLGoi7YVudA","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: Convergence problem in setState_UV","postDate":"1201682776","msgId":1829,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGZucGRnbytrcmo5QGVHcm91cHMuY29tPg==","inReplyToHeader":"PDg0MDIzMzgzNy4xNzYwNDEyMDE2MzY4NTQ5NjcuSmF2YU1haWwub3NnQG9zZ2phczAyLmNucy51ZmwuZWR1Pg=="},"prevInTopic":1828,"nextInTopic":1830,"prevInTime":1828,"nextInTime":1830,"topicId":1828,"numMessagesInTopic":3,"msgSnippet":"To simplify the system of governing equations Cantera uses Energy and Volume as two thermodynamic parameters for describing a gas mixture in Zero-D","rawEmail":"Return-Path: &lt;avmokhov@...&gt;\r\nX-Sender: avmokhov@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nX-Received: (qmail 2316 invoked from network); 30 Jan 2008 08:46:17 -0000\r\nX-Received: from unknown (69.147.108.202)\n  by m44.grp.scd.yahoo.com with QMQP; 30 Jan 2008 08:46:17 -0000\r\nX-Received: from unknown (HELO n20.bullet.mail.re1.yahoo.com) (69.147.102.103)\n  by mta3.grp.re1.yahoo.com with SMTP; 30 Jan 2008 08:46:17 -0000\r\nX-Received: from [68.142.237.90] by n20.bullet.mail.re1.yahoo.com with NNFMP; 30 Jan 2008 08:46:17 -0000\r\nX-Received: from [209.73.164.83] by t6.bullet.re3.yahoo.com with NNFMP; 30 Jan 2008 08:46:17 -0000\r\nX-Received: from [66.218.66.80] by t7.bullet.scd.yahoo.com with NNFMP; 30 Jan 2008 08:46:16 -0000\r\nDate: Wed, 30 Jan 2008 08:46:16 -0000\r\nTo: cantera@yahoogroups.com\r\nMessage-ID: &lt;fnpdgo+krj9@...&gt;\r\nIn-Reply-To: &lt;840233837.176041201636854967.JavaMail.osg@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;avmokhov&quot; &lt;avmokhov@...&gt;\r\nSubject: Re: Convergence problem in setState_UV\r\nX-Yahoo-Group-Post: member; u=310228072; y=3_WnFxl22FEQi-9xCv8_6NtQZt_sY4e79JfHFaEknFV3ZTM\r\nX-Yahoo-Profile: avmokhov\r\n\r\nTo simplify the system of governing equations Cantera uses Energy and \nVolu=\r\nme as two thermodynamic parameters for describing a gas mixture \nin Zero-D =\r\ncalculations. From other side, the rates of chemical \nreactions are explici=\r\nt functions of pressure and temperature. \nTherefore, on every time step, pr=\r\nessure and temperature are \ncalculated from energy and volume in a setState=\r\n_UV function. If this \nfunction can not find temperature corresponding inpu=\r\nt energy, it \nthrows exception with a little bit misleading information (dt=\r\n in the \nmessage is temperature!). It seems that in your program you did no=\r\nt \nassign initial value for energy and you get this exception.\n\nBest regard=\r\ns, \nAnatoli\n\n\n--- In cantera@yahoogroups.com, Bhupinder Singh &lt;bsingh@...&gt; =\r\nwrote:\n&gt;\n&gt; Hey everyone,\n&gt; \n&gt; I&#39;m trying to resolve a convergence error pro=\r\nblem.\n&gt; \n&gt; Here&#39;s what I&#39;m trying to do:\n&gt; -----------------------------\n&gt; =\r\n\n&gt; 1. I need to solve a system of equations parallel with the zero \n&gt; dim. =\r\nreactor model such that,\n&gt; I need to correct for some of the species produc=\r\ntion terms at \n&gt; everytime step, and solve for additional\n&gt; set of variable=\r\ns M0 throuh M5 (y terms) and Q0 through Q5 (ydot \n&gt; terms)\n&gt; \n&gt; 2. I create=\r\nd a new class derived from the &quot;Reactor&quot; class and \n&gt; reimplemented the vir=\r\ntual methods\n&gt;         in the original class.\n&gt; \n&gt; 3. In the methods evalEq=\r\ns and UpdateState, I have inserted my \n&gt; variables M0 through M5 in array &quot;=\r\ny&quot;\n&gt; and Q0 through Q5 in array &quot;ydot&quot; at positions m_nsp+2.\n&gt; \n&gt; since y[0=\r\n] =3D internal energy\n&gt;      y[1] =3D volume\n&gt;         y[3] - y[m_nsp-1] ar=\r\ne species mass fractions\n&gt; \n&gt; Another parallel fortran code, that I call fr=\r\nom within C++, gives \n&gt; me values of the variables Q&#39;s (Q0 through Q5) base=\r\nd on initial \n&gt; M&#39;s (M0 through M5) values, and hence gives me a new comple=\r\nte data \n&gt; set for y and ydot arrays. The integrator then integrates to a n=\r\new \n&gt; y array (that gives me new initial conditions of M&#39;s to recompute \n&gt; =\r\nQ&#39;s)\n&gt; that I use to update my older variables in UpdateState method.\n&gt; \n&gt; =\r\nI used an instance of this class in a reactor code by using\n&gt; myclass r;\n&gt; =\r\n\n&gt; instead of\n&gt; Reactor r;\n&gt; \n&gt; My problem:\n&gt; -----------\n&gt; \n&gt; I get an err=\r\nor message as follows:\n&gt; \n&gt; Procedure: setState_UV\n&gt; Error: no convergence.=\r\n dt=3Dnan\n&gt; tol =3D 1e-08\n&gt; u =3D nan v =3D 0.439382\n&gt; \n&gt; I get this messag=\r\ne right after the first time step.\n&gt; \n&gt; My Questions:\n&gt; -------------\n&gt; \n&gt; =\r\n1. Just to begin with, my Q (ydot) terms are not even coupled to \n&gt; the ydo=\r\nt[0] that is internal energy\n&gt; equations. why do I get a convergence error =\r\nin u, when everything \n&gt; else is the same.\n&gt; \n&gt; 2. When I commented out the=\r\n assignment lines for y and ydot, such \n&gt; that I did create space in the ar=\r\nray\n&gt; for my variables, but assigned all of them values of zero, the \n&gt; cod=\r\ne did work for a while, but looped\n&gt; endlessly around the ignitor functor p=\r\neak. I guess, that too had \n&gt; to do with convergence problem.\n&gt; In other wo=\r\nrds, I could see solutions only until the igniter \n&gt; reservoir sent out a p=\r\nulse of H atoms.\n&gt; As soon as the temperature pulse began to be sensed in t=\r\nhe \n&gt; solution, each time-step calculation\n&gt; became extremely slow.\n&gt; \n&gt; 3.=\r\n The only other way I could get this code to work, is to leave \n&gt; the origi=\r\nnal y and ydot arrays\n&gt; as they were and create another integrator, y and y=\r\ndot arrays to \n&gt; solve for my M variables. This might be\n&gt; way too ineffici=\r\nent, I think. I don&#39;t quite see why the approach I \n&gt; took isn&#39;t working! W=\r\nould this alternate\n&gt; approach be a better way of handling the problem?\n&gt; \n=\r\n&gt; I can&#39;t seem to resolve this problem, and need help with it.\n&gt; \n&gt; Any hel=\r\np would be appreciated. Please let me know, if the \n&gt; information provided =\r\ndoesn&#39;t seem adequate or\n&gt; if any further clarifications are necessary.\n&gt; \n=\r\n&gt; \n&gt; Regards,\n&gt; \n&gt; Bhupinder\n&gt; \n&gt; --\n&gt; Bhupinder Singh\n&gt; Department of Mech=\r\nanical and Aerospace Engineering\n&gt; University of Florida\n&gt; Gainesville\n&gt; \n&gt;=\r\n Ph: 352-392-4442 (O)\n&gt;     352-328-4486 (Cell)\n&gt;\n\n\n\n"}}