{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":310228072,"authorName":"avmokhov","from":"&quot;avmokhov&quot; &lt;avmokhov@...&gt;","profile":"avmokhov","replyTo":"LIST","senderId":"b7rlYH9g4ZHCiZqIb6MKjsUqHrBBRSkHhe1rpjN1l70Kgnbk34OZocSrmBNIPWx45Xnn-uQTKvS5TLM_sQ35hAE-0AmZjg","spamInfo":{"isSpam":false,"reason":"6"},"subject":"Re: copy constructor for IdealGasMix is broken?","postDate":"1203027442","msgId":1840,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PGZwMmVsaSs0MzEwQGVHcm91cHMuY29tPg==","inReplyToHeader":"PENBN0RDNTczLTNDNTQtNDdBOC04RDlFLTE5M0MwRUNCQkRGOUBjYWx0ZWNoLmVkdT4="},"prevInTopic":1839,"nextInTopic":0,"prevInTime":1839,"nextInTime":1841,"topicId":1831,"numMessagesInTopic":10,"msgSnippet":"Dave, Thank you for pointing this out. I will look at the IdealGasPhase class. I am quite happy with the IdealGasMix class though. My remarks are mainly of","rawEmail":"Return-Path: &lt;avmokhov@...&gt;\r\nX-Sender: avmokhov@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nX-Received: (qmail 93887 invoked from network); 14 Feb 2008 22:17:24 -0000\r\nX-Received: from unknown (66.218.67.97)\n  by m48.grp.scd.yahoo.com with QMQP; 14 Feb 2008 22:17:24 -0000\r\nX-Received: from unknown (HELO n47b.bullet.mail.sp1.yahoo.com) (66.163.168.161)\n  by mta18.grp.scd.yahoo.com with SMTP; 14 Feb 2008 22:17:24 -0000\r\nX-Received: from [216.252.122.217] by n47.bullet.mail.sp1.yahoo.com with NNFMP; 14 Feb 2008 22:17:24 -0000\r\nX-Received: from [66.218.69.6] by t2.bullet.sp1.yahoo.com with NNFMP; 14 Feb 2008 22:17:24 -0000\r\nX-Received: from [66.218.66.88] by t6.bullet.scd.yahoo.com with NNFMP; 14 Feb 2008 22:17:24 -0000\r\nDate: Thu, 14 Feb 2008 22:17:22 -0000\r\nTo: cantera@yahoogroups.com\r\nMessage-ID: &lt;fp2eli+4310@...&gt;\r\nIn-Reply-To: &lt;CA7DC573-3C54-47A8-8D9E-193C0ECBBDF9@...&gt;\r\nUser-Agent: eGroups-EW/0.82\r\nMIME-Version: 1.0\r\nContent-Type: text/plain; charset=&quot;ISO-8859-1&quot;\r\nContent-Transfer-Encoding: quoted-printable\r\nX-Mailer: Yahoo Groups Message Poster\r\nX-Yahoo-Newman-Property: groups-compose\r\nX-eGroups-Msg-Info: 1:6:0:0:0\r\nFrom: &quot;avmokhov&quot; &lt;avmokhov@...&gt;\r\nSubject: Re: copy constructor for IdealGasMix is broken?\r\nX-Yahoo-Group-Post: member; u=310228072; y=S5RYF-9zMYHr7Cfp9o7CKcnbW5eYcC-9ZUD1uds4lJPFIqk\r\nX-Yahoo-Profile: avmokhov\r\n\r\n\nDave,\n\nThank you for pointing this out. I will look at the IdealGasPhase \n=\r\nclass. I am quite happy with the IdealGasMix class though. My remarks \nare =\r\nmainly of theoretical origin and not relevant to the normal use \nof the Can=\r\ntera suite.\n\nBest regards, \nAnatoli\n\n--- In cantera@yahoogroups.com, Dave G=\r\noodwin &lt;dgoodwin@...&gt; wrote:\n&gt;\n&gt; The IdealGasMix class is provided for conv=\r\nenience only.  If your  \n&gt; prefer, you can use two objects - one of class \n=\r\nCantera::IdealGasPhase  \n&gt; that does only thermo, and then a &quot;kinetics mana=\r\nger&quot; class that \ndoes  \n&gt; the kinetics for this object.\n&gt; \n&gt; \n&gt; On Feb 14, =\r\n2008, at 12:14 PM, avmokhov wrote:\n&gt; \n&gt; &gt; Hello,\n&gt; &gt;\n&gt; &gt; While I admit that=\r\n bindings to Python and Matlab are of paramount\n&gt; &gt; importance, it is quite=\r\n pitiful that C++ core should suffer from\n&gt; &gt; this. It seems for me that al=\r\nl possible problems with the copy\n&gt; &gt; constructing of the ideal gas object =\r\nare due to design decision to\n&gt; &gt; inherit the ideal gas class from thermody=\r\nnamic and kinetic base\n&gt; &gt; classes. Multiple inheritance should be used onl=\r\ny when an object\n&gt; &gt; includes properties of two base classes. While the ide=\r\nal gas\n&gt; &gt; certainly has thermodynamic properties such as temperature, \npre=\r\nssure\n&gt; &gt; etc., its relation with kinetic mechanism is not so direct. Would=\r\n \nthe\n&gt; &gt; ideal gas class inherited only from the thermodynamic base (or \ne=\r\nven\n&gt; &gt; better not from both), the problems with interfaces were avoided.\n&gt;=\r\n &gt;\n&gt; &gt; Best regards, Anatoli\n&gt; &gt;\n&gt; &gt; --- In cantera@yahoogroups.com, Dave G=\r\noodwin &lt;dgoodwin@&gt; wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt; I think we also need to keep in mind th=\r\nat we are not just writing\n&gt; &gt; for\n&gt; &gt;&gt; C++ &quot;power users.&quot;  Essentially all=\r\n useful eqs of state should be\n&gt; &gt;&gt; accessible from the other interfaces to=\r\no, and so shouldn&#39;t rely\n&gt; &gt;&gt; overly on special features (e.g. operator ove=\r\nrloading) in C++.  \nOr\n&gt; &gt; at\n&gt; &gt;&gt; the very least, these things should be k=\r\nept out of the kernel, \nand\n&gt; &gt;&gt; only used in the C++ interface files (Cant=\r\nera/cxx/*).\n&gt; &gt;&gt;\n&gt; &gt;&gt; Dave\n&gt; &gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;&gt; On Feb 13, 2008, at 2:15 PM, Moff=\r\nat, Harry K wrote:\n&gt; &gt;&gt;\n&gt; &gt;&gt;&gt; Hi,\n&gt; &gt;&gt;&gt;   copy constructors and assignment =\r\noperators are implemented for\n&gt; &gt; the\n&gt; &gt;&gt;&gt; thermo routines, but not for th=\r\ne kinetics operator. That&#39;s why \nthe\n&gt; &gt;&gt;&gt; thermo part of the copy worked, =\r\nbut not the kinetics part.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; I agree with Dave that there&#39;s a def=\r\ninite cost and potential\n&gt; &gt;&gt;&gt; pitfalls to\n&gt; &gt;&gt;&gt; developing and maintaining=\r\n them. There should be a definite\n&gt; &gt; reason for\n&gt; &gt;&gt;&gt; their implementation=\r\n.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; I had in the back of my mind, at one point, the case of solvi=\r\nng\n&gt; &gt;&gt;&gt; equilibrium problems with miscibility gaps, where the thermo\n&gt; &gt; p=\r\nhase\n&gt; &gt;&gt;&gt; would\n&gt; &gt;&gt;&gt; need to be split into two (e.g., III-V compound semi=\r\nconductors\n&gt; &gt; which\n&gt; &gt;&gt;&gt; obey the regular solution model) for some parame=\r\nter regimes. I\n&gt; &gt; haven&#39;t\n&gt; &gt;&gt;&gt; gotten there yet, though, in terms of auto=\r\nmagically splitting\n&gt; &gt; the\n&gt; &gt;&gt;&gt; phase\n&gt; &gt;&gt;&gt; where appropriate.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;=\r\n&gt; There&#39;s a diamondSurf_dupl test example that exercises the \nthermo\n&gt; &gt;&gt;&gt; =\r\nassignment operator.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Best wishes,\n&gt; &gt;&gt;&gt; Harry Moffat\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;=\r\n&gt; Harry Moffat                                             (w) \n(505)\n&gt; &gt;&gt;&gt;=\r\n 844-6912\n&gt; &gt;&gt;&gt; Nanoscale and Reactive Processes            (f)   (505) 844=\r\n-8251\n&gt; &gt;&gt;&gt; Sandia National Laboratories\n&gt; &gt;&gt;&gt; hkmoffa@\n&gt; &gt;&gt;&gt; P. O. Box 580=\r\n0-0836\n&gt; &gt;&gt;&gt; Albuquerque, NM 87185-0836\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; -----Original Message--=\r\n---\n&gt; &gt;&gt;&gt; From: cantera@yahoogroups.com [mailto:cantera@yahoogroups.com]\n&gt; =\r\n&gt; On\n&gt; &gt;&gt;&gt; Behalf\n&gt; &gt;&gt;&gt; Of yarmond\n&gt; &gt;&gt;&gt; Sent: Wednesday, February 13, 2008=\r\n 9:33 AM\n&gt; &gt;&gt;&gt; To: cantera@yahoogroups.com\n&gt; &gt;&gt;&gt; Subject: [cantera] Re: cop=\r\ny constructor for IdealGasMix is \nbroken?\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Dave,\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Tha=\r\nnks for the explanation. Is there any chance that the copy\n&gt; &gt;&gt;&gt; constructo=\r\nr will be implemented? I was hoping to be able to use\n&gt; &gt;&gt;&gt; them in\n&gt; &gt;&gt;&gt; s=\r\nome of the standard container classes, e.g. std::vector or\n&gt; &gt; std::list,\n&gt;=\r\n &gt;&gt;&gt; but I don&#39;t think this is possible without a functional copy\n&gt; &gt;&gt;&gt; con=\r\nstructor.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Also, it would be nice to repeatedly read the input f=\r\nile from\n&gt; &gt; disk. Is\n&gt; &gt;&gt;&gt; there a way to at least avoid this? I wasn&#39;t ab=\r\nle to follow the\n&gt; &gt;&gt;&gt; documentation well enough to know if this is possibl=\r\ne.\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Thanks,\n&gt; &gt;&gt;&gt; Ray\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; --- In cantera@yahoogroups.com=\r\n, Dave Goodwin &lt;dgoodwin@&gt; wrote:\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; The reason for this is that=\r\n Cantera builds complete objects for\n&gt; &gt;&gt;&gt;&gt; use in\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; C++ code fr=\r\nom CTI or XML input files.  This maintains\n&gt; &gt; consistency\n&gt; &gt;&gt;&gt;&gt; with\n&gt; &gt;&gt;=\r\n&gt;\n&gt; &gt;&gt;&gt;&gt; objects created from Python, Matlab, or Fortran.\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; The=\r\n classes in the Cantera kernel (those in &quot;Cantera/src/*&quot;\n&gt; &gt; should\n&gt; &gt;&gt;&gt;&gt; =\r\nnever be instantiated from copy constructors, but always from\n&gt; &gt; an\n&gt; &gt;&gt;&gt;&gt;=\r\n input\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; file or from a factory method designed for this purpose=\r\n.  At \nthe\n&gt; &gt; C++\n&gt; &gt;&gt;&gt;&gt; interface level (those files in Cantera/cxx/inclu=\r\nde/cantera,\n&gt; &gt; many of\n&gt; &gt;&gt;&gt;&gt; the classes derive from multiple kernel clas=\r\nses, to provide \n(for\n&gt; &gt;&gt;&gt;&gt; convenience only)  a single object that repres=\r\nents the\n&gt; &gt; thermodynamic\n&gt; &gt;&gt;&gt;&gt; properties (equation of state) and the ki=\r\nnetics, at least for\n&gt; &gt;&gt;&gt;&gt; homogeneous kinetics. I am in the process of ch=\r\nanging the\n&gt; &gt; namespace\n&gt; &gt;&gt;&gt;&gt; these classes live in to &quot;Cantera_CXX&quot; to h=\r\nelp avoid these\n&gt; &gt;&gt;&gt;&gt; confusions.\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; But still, I advise agains=\r\nt using copy constructors or \nassignment\n&gt; &gt;&gt;&gt;&gt; operators... These often ca=\r\nuse more problems than they solve!!\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; Dave\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; The CV=\r\nS repository will soon reflect the namespace changes but\n&gt; &gt; does\n&gt; &gt;&gt;&gt;&gt; no=\r\nt yet...\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt; On Feb 13, 2008, at 5:32 AM, avmokhov =\r\nwrote:\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; Hi,\n&gt; &gt;&gt;&gt;&gt;&gt; You can not use a copy constructor for an=\r\n ideal gas mixture\n&gt; &gt; because\n&gt; &gt;&gt;&gt;&gt;&gt; the assignment operator is (still) n=\r\not implemented. If you put\n&gt; &gt; try -\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; catch block you will cat=\r\nch a Cantera exception.\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; Best regards, Anatoli\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;=\r\n&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; --- In cantera@yahoogroups.com, &quot;yarmond&quot; &lt;yarmond@&gt; wrote:\n&gt; &gt;&gt;=\r\n&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; I am having some issues when trying to copy IdealGasMix\n&gt; &gt; o=\r\nbjects.\n&gt; &gt;&gt;&gt;&gt;&gt; From\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; looking at the header files, it seems that th=\r\ne copy\n&gt; &gt; constructor is\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; intended to be usable, but I have been g=\r\netting some \nunexpected\n&gt; &gt;&gt;&gt;&gt;&gt; results\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; from the following code ex=\r\nample:\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; Cantera::IdealGasMix gas1(&quot;gri30.xml&quot;); int n=3Dga=\r\ns1.nSpecies\n();\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; gas1.setState_TPX(600,Cantera::OneAtm,&quot;O2:1.0, CH4=\r\n:0.5,\n&gt; &gt; N2:3.76&quot;);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; vector&lt;double&gt; wdot1(n), wdot2(n);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt;=\r\n &gt;&gt;&gt;&gt;&gt;&gt; Cantera::IdealGasMix gas2(gas1);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; gas2.setState_TPX(800,Can=\r\ntera::OneAtm,&quot;AR:1.0&quot;);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; gas1.getNetProductionRates(&wdot1=\r\n[0]);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; gas2.getNetProductionRates(&wdot2[0]);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; std=\r\n::cout &lt;&lt; gas1.cv_mass() &lt;&lt; &quot;, &quot; &lt;&lt; gas2.cv_mass() &lt;&lt;\n&gt; &gt; std::endl;\n&gt; &gt;&gt;&gt;\n=\r\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; for (int i=3D0; i&lt;n; i++) {\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; \tstd::cout &lt;&lt; wdot1[i] &lt;&lt; &quot;, =\r\n&quot; &lt;&lt; wdot2[i] &lt;&lt; \nstd::endl; }\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; gas1.setState_TPX(600,Cant=\r\nera::OneAtm,&quot;H2:1.0, O2:0.5,\n&gt; &gt; N2:3.76&quot;);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; gas1.getNetProductionR=\r\nates(&wdot1[0]);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; gas2.getNetProductionRates(&wdot2[0]);\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt;=\r\n &gt;&gt;&gt;&gt;&gt;&gt; std::cout &lt;&lt; gas1.cv_mass() &lt;&lt; &quot;, &quot; &lt;&lt; gas2.cv_mass() &lt;&lt;\n&gt; &gt; std::e=\r\nndl;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; for (int i=3D0; i&lt;n; i++) {\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; \tstd::cout &lt;&lt; wdot=\r\n1[i] &lt;&lt; &quot;, &quot; &lt;&lt; wdot2[i] &lt;&lt; \nstd::endl; }\n&gt; &gt;&gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; The measurement=\r\n of cv seems to work for both mixtures, but\n&gt; &gt; when the\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; pro=\r\nduction rates are requested for gas2, it returns the same\n&gt; &gt; values\n&gt; &gt;&gt;&gt;&gt;=\r\n&gt; as\n&gt; &gt;&gt;&gt;&gt;&gt;&gt; for gas1, even when the state of gas1 is later changed.\n&gt; &gt;&gt;&gt;=\r\n&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt; Yahoo! Groups Links\n&gt; &gt;=\r\n&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Yahoo! Grou=\r\nps Links\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt; Yahoo! Group=\r\ns Links\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;&gt;\n&gt; &gt;&gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt; &gt; Yahoo! Groups Links\n=\r\n&gt; &gt;\n&gt; &gt;\n&gt; &gt;\n&gt;\n\n\n\n"}}