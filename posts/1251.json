{"ygPerms":{"resourceCapabilityList":[{"resourceType":"GROUP","capabilities":[{"name":"READ"},{"name":"JOIN"}]},{"resourceType":"PHOTO","capabilities":[]},{"resourceType":"FILE","capabilities":[]},{"resourceType":"MEMBER","capabilities":[]},{"resourceType":"LINK","capabilities":[]},{"resourceType":"CALENDAR","capabilities":[]},{"resourceType":"DATABASE","capabilities":[]},{"resourceType":"POLL","capabilities":[]},{"resourceType":"MESSAGE","capabilities":[{"name":"READ"}]},{"resourceType":"PENDING_MESSAGE","capabilities":[]},{"resourceType":"ATTACHMENTS","capabilities":[{"name":"READ"}]},{"resourceType":"PHOTOMATIC_ALBUMS","capabilities":[]},{"resourceType":"MEMBERSHIP_TYPE","capabilities":[]},{"resourceType":"POST","capabilities":[{"name":"READ"}]},{"resourceType":"PIN","capabilities":[]}],"groupUrl":"groups.yahoo.com","intlCode":"us"},"comscore":"pageview_candidate","ygData":{"userId":44728387,"authorName":"David Goodwin","from":"David Goodwin &lt;dgoodwin@...&gt;","profile":"dggoodwin","replyTo":"LIST","senderId":"j-9dXyfTYzXKEEyqsgw4a4wzv9aey1Y8nTgJqXZr_nyxEZHenDDMee5LdhtMgKqmfKbvGxGRDrAbsNPLgO-9QWSMqe-SHofP7hn7","spamInfo":{"isSpam":false,"reason":"0"},"subject":"Re: [cantera] fixed temperature profile","postDate":"1149958929","msgId":1251,"canDelete":false,"contentTrasformed":false,"systemMessage":false,"headers":{"messageIdInHeader":"PEZGM0Q4OEJBLUIyNjYtNDE3OS1CQzIzLTMyMzhDMUQ3RUZEM0BjYWx0ZWNoLmVkdT4=","inReplyToHeader":"PDIwMDYwNjEwMTAyMi4xNzQwNC5jaGVza2lzQHBvc3QudGF1LmFjLmlsPg==","referencesHeader":"PDIwMDYwNjEwMTAyMi4xNzQwNC5jaGVza2lzQHBvc3QudGF1LmFjLmlsPg=="},"prevInTopic":1250,"nextInTopic":1252,"prevInTime":1250,"nextInTime":1252,"topicId":1249,"numMessagesInTopic":4,"msgSnippet":"Actually, its not as complicated as I indicated in my last message. All you have to do is call method setFixedTempProfile(zvalues, Tvalues) of the flame","rawEmail":"Return-Path: &lt;dgoodwin@...&gt;\r\nX-Sender: dgoodwin@...\r\nX-Apparently-To: cantera@yahoogroups.com\r\nReceived: (qmail 50671 invoked from network); 10 Jun 2006 17:02:35 -0000\r\nReceived: from unknown (66.218.66.167)\n  by m23.grp.scd.yahoo.com with QMQP; 10 Jun 2006 17:02:35 -0000\r\nReceived: from unknown (HELO outgoing-mail.its.caltech.edu) (131.215.239.19)\n  by mta6.grp.scd.yahoo.com with SMTP; 10 Jun 2006 17:02:35 -0000\r\nReceived: from water-dog.caltech.edu (water-dog [192.168.1.26])\n\tby water-ox-postvirus (Postfix) with ESMTP id DB1D433C56\n\tfor &lt;cantera@yahoogroups.com&gt;; Sat, 10 Jun 2006 10:02:19 -0700 (PDT)\r\nReceived: from [10.0.1.2] (charter-241-094.caltech.edu [131.215.241.94])\n\t(using TLSv1 with cipher RC4-SHA (128/128 bits))\n\t(No client certificate requested)\n\tby fire-ox.its.caltech.edu (Postfix) with ESMTP id 226B933C51\n\tfor &lt;cantera@yahoogroups.com&gt;; Sat, 10 Jun 2006 10:02:13 -0700 (PDT)\r\nMime-Version: 1.0 (Apple Message framework v750)\r\nIn-Reply-To: &lt;200606101022.17404.cheskis@...&gt;\r\nReferences: &lt;200606101022.17404.cheskis@...&gt;\r\nContent-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed\r\nMessage-Id: &lt;FF3D88BA-B266-4179-BC23-3238C1D7EFD3@...&gt;\r\nContent-Transfer-Encoding: 7bit\r\nDate: Sat, 10 Jun 2006 10:02:09 -0700\r\nTo: cantera@yahoogroups.com\r\nX-Mailer: Apple Mail (2.750)\r\nX-Spam-Scanned: at Caltech-ITS on water-dog by amavisd-2.3.3 \r\nX-eGroups-Msg-Info: 1:0:0:0\r\nFrom: David Goodwin &lt;dgoodwin@...&gt;\r\nSubject: Re: [cantera] fixed temperature profile\r\nX-Yahoo-Group-Post: member; u=44728387; y=SChXe39ZAw4-1LqmVzoWN_bRY-tbzee5a0EipRtEOboy\r\nX-Yahoo-Profile: dggoodwin\r\n\r\nActually, its not as complicated as I indicated in my last message.   \nAll you have to do is call method &#39;setFixedTempProfile(zvalues,  \nTvalues)&#39; of the &#39;flame&#39; member of the &#39;BurnerFlame&#39; object before  \ncalling solve.  Shown below is a modified version of &#39;flame2.py&#39; that  \ndoes this by reading in temperature data from an external file.  This  \nscript has now been added to the Python flame examples.\n\n\n------------------------------------------------------------------------ \n-------\n#\n# FIXED_T_FLAME - A burner-stabilized, premixed methane/air flat flame\n#                 with multicomponent transport properties and a  \nspecified\n#                 temperature profile\n#\nfrom Cantera import *\nfrom Cantera.OneD import *\nfrom Cantera.OneD.BurnerFlame import BurnerFlame\nfrom string import atof\n\n\n# read temperature vs. position data from a file.\n# The file is assumed to have one z, T pair per line, separated by a  \ncomma.\n\ndef getTempData(filename):\n     # open the file containing the temperature data for reading\n     f = open(filename)\n     z = []\n     t = []\n     lines = f.readlines()\n\n     # check for unix/Windows/Mac line ending problems\n     if len(lines) == 1:\n         print &#39;Warning: only one line found. Possible text file line- \nending&#39;\n         print &#39;problem?&#39;\n         print &#39;The one line found is: &#39;,lines[0]\n\n\n     for line in lines:\n         if line[0] == &#39;#&#39;:   # use &#39;#&#39; as the comment character\n             pass\n         else:\n             try:\n                 zval, tval = line.split(&#39;,&#39;)\n                 z.append(atof(zval))\n                 t.append(atof(tval))\n             except:\n                 pass\n     print &#39;read&#39;,len(z),&#39;temperature values.&#39;\n     f.close()\n\n     # convert z values into non-dimensional relative positions.\n     n = len(z)\n     zmax = z[n-1]\n     for i in range(n):\n         z[i] = z[i]/zmax\n\n     return [z,t]\n\n\n\n################################################################\n#\n# parameter values\n#\np          =   OneAtm               # pressure\ntburner    =   373.7                # burner temperature\nmdot       =   0.04                 # kg/m^2/s\n\ncomp       =  &#39;CH4:0.65, O2:1, N2:3.76&#39;  # premixed gas composition\n\n# The solution domain is chosen to be 1 cm, and a point very near the\n# downstream boundary is added to help with the zero-gradient boundary\n# condition at this boundary.\ninitial_grid = [0.0, 0.0025, 0.005, 0.0075, 0.0099, 0.01] # m\n\ntol_ss    = [1.0e-5, 1.0e-9]        # [rtol atol] for steady-state\n                                     # problem\ntol_ts    = [1.0e-5, 1.0e-4]        # [rtol atol] for time stepping\n\nloglevel  = 1                       # amount of diagnostic output (0\n                                     # to 5)\n\t\t\t\t\nrefine_grid = 1                     # 1 to enable refinement, 0 to\n                                     # disable \t\t\t\t\n\n\n################ create the gas object ########################\n#\n# This object will be used to evaluate all thermodynamic, kinetic, and\n# transport properties. It is created with two transport managers, to\n# enable switching from mixture-averaged to multicomponent transport\n# on the last solution.\ngas = GRI30(&#39;Mix&#39;)\ngas.addTransportModel(&#39;Multi&#39;)\n\n# set its state to that of the unburned gas at the burner\ngas.setState_TPX(tburner, p, comp)\n\n# create the BurnerFlame object.\nf = BurnerFlame(gas = gas, grid = initial_grid)\n\n# set the properties at the burner\nf.burner.set(massflux = mdot, mole_fractions = comp, temperature =  \ntburner)\n\n# read in the fixed temperature profile\n[zloc, tvalues] = getTempData(&#39;tdata.csv&#39;)\n\n# set the temperature profile to the values read in\nf.flame.setFixedTempProfile(zloc, tvalues)\n\nf.set(tol = tol_ss, tol_time = tol_ts)\n\n# show the initial estimate for the solution\nf.showSolution()\n\n# don&#39;t solve the energy equation\nf.set(energy = &#39;off&#39;)\n\n# first solve the flame with mixture-averaged transport properties\nf.setRefineCriteria(ratio = 3.0, slope = 0.3, curve = 1)\nf.setMaxJacAge(50, 50)\nf.setTimeStep(1.0e-5, [1, 2, 5, 10, 20])\n\nf.solve(loglevel, refine_grid)\nf.save(&#39;ch4_flame_fixed_T.xml&#39;,&#39;mixav&#39;,\n        &#39;solution with mixture-averaged transport&#39;)\n\ngas.switchTransportModel(&#39;Multi&#39;)\nf.flame.setTransportModel(gas)\nf.setRefineCriteria(ratio = 3.0, slope = 0.1, curve = 0.2)\nf.solve(loglevel, refine_grid)\nf.save(&#39;ch4_flame_fixed_T.xml&#39;,&#39;multi&#39;,\n        &#39;solution with  multicomponent transport&#39;)\n\n# write the velocity, temperature, density, and mole fractions to a  \nCSV file\nz = f.flame.grid()\nT = f.T()\nu = f.u()\nV = f.V()\nfcsv = open(&#39;flame_fixed_T.csv&#39;,&#39;w&#39;)\nwriteCSV(fcsv, [&#39;z (m)&#39;, &#39;u (m/s)&#39;, &#39;V (1/s)&#39;, &#39;T (K)&#39;, &#39;rho (kg/m3)&#39;]\n          + list(gas.speciesNames()))\nfor n in range(f.flame.nPoints()):\n     f.setGasState(n)\n     writeCSV(fcsv, [z[n], u[n], V[n], T[n], gas.density()]\n              +list(gas.moleFractions()))\nfcsv.close()\n\nprint &#39;solution saved to flame_fixed_T.csv&#39;\n\nf.showStats()\n\n\n------------------------------------------------------------------------ \n--------------------\n\n\n\n\n\nOn Jun 10, 2006, at 12:22 AM, Sergey Cheskis wrote:\n\n&gt; I am just starting my move from chemkin to cantera. I would  \n&gt; appreciate very\n&gt; much if somebody can explain me how can I make a calculation of a  \n&gt; burner\n&gt; stabilized flame with an experimentally measured temperature  \n&gt; profile. As I\n&gt; understand, in the demos (both python and matlab) the temperature  \n&gt; profile is\n&gt; calculated assuming the flame to be adiabatic. What do I need to  \n&gt; change in\n&gt; the demos (matlab and/or python) in order to used a fixed temperature\n&gt; profile?\n&gt; Thank you\n&gt; Sergey\n&gt; -- \n&gt; *****************************************************\n&gt; Prof. Sergey Cheskis\n&gt; School of Chemistry, Tel Aviv University,\n&gt; Tel Aviv 69978, Israel\n&gt; Tel/Fax +972-3-6407973\n&gt;\n&gt;\n&gt; ------------------------ Yahoo! Groups Sponsor -------------------- \n&gt; ~--&gt;\n&gt; Home is just a click away.  Make Yahoo! your home page now.\n&gt; http://us.click.yahoo.com/DHchtC/3FxNAA/yQLSAA/UGYolB/TM\n&gt; -------------------------------------------------------------------- \n&gt; ~-&gt;\n&gt;\n&gt;\n&gt; Yahoo! Groups Links\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n&gt;\n\n\n"}}